# CMTools 软件介绍文档

## 1. 软件概述

CMTools 是一个现代化的色谱数据处理工具集，基于 Tauri 2.0 + Vue 3 + TypeScript 构建的跨平台、高性能桌面应用。该软件旨在提供高效、精确且用户友好的数据处理解决方案，通过现代化的图形用户界面简化了复杂的数据分析流程，并支持通过外部可执行文件（.exe）进行功能扩展。

### 1.1 核心特性

- **专为数据分析设计**：深入理解通用数据处理工作流程，提供多种核心工具（AneuFiler、Aneu23、SMNFiler_v1、SHCarrier、UPDFiler_v1 和 UPDFiler_v2），并支持自定义扩展。
- **性能卓越**：基于 Rust 的后端确保了强大的计算能力和内存安全，能够快速处理大型数据集。
- **现代化用户体验**：采用 Vue 3 构建的界面美观、响应迅速，并支持亮/暗色主题切换和多语言（中/英）支持。
- **绿色便携**：无需安装，开箱即用，不污染操作系统。
- **开源友好**：拥有清晰的架构和完善的文档，欢迎社区贡献者加入。

### 1.2 技术架构

CMTools 采用前后端分离的现代桌面应用架构，利用 Tauri 将基于 Web 技术的 Vue 前端与高性能的 Rust 后端相结合。

- **前端技术栈**：Vue 3 (Composition API) + TypeScript + Vite
- **后端技术栈**：Rust + Tauri + Tokio
- **核心依赖**：serde、tauri-plugin-dialog、tauri-plugin-opener

## 2. 功能特性

### 2.1 用户界面特性

- **现代化 UI 设计**：支持亮色/暗色主题切换，具有玻璃拟态设计效果
- **国际化支持**：中文/英文双语界面，可一键切换
- **响应式布局**：适配不同屏幕尺寸，支持移动端设备
- **直观的操作流程**：清晰的功能分区和操作引导

### 2.2 数据处理功能

- **批量文件处理**：支持多文件同时处理，提升工作效率
- **灵活配置选项**：支持峰面积/峰高数据选择、标准品名称配置等
- **系统优化**：针对 Windows 系统提供编码优化支持
- **实时处理反馈**：提供详细的处理结果和清晰的错误信息
- **跨平台支持**：可在 Windows、macOS 和 Linux 上原生运行

### 2.3 支持的处理工具

1. **AneuFiler**：通用数据筛选工具
2. **Aneu23**：专门用于23对染色体非整倍性筛查的分析工具
3. **SMNFiler_v1**：专门用于SMN数据处理和分析的工具
4. **SHCarrier**：用于携带者筛查的分析工具
5. **UPDFiler_v1**：分析3500dx仪器数据中的UPD和其他异常情况（版本1）
6. **UPDFiler_v2**：分析3500dx仪器数据中的UPD和其他异常情况（版本2）

## 3. 系统要求与兼容性

### 3.1 系统要求

- **操作系统**：Windows 10 版本1809 (17763)或更高，macOS 10.15+, 或主流 Linux 发行版
- **架构支持**：x64、x86 或 ARM64
- **存储空间**：至少200MB可用存储空间
- **运行时依赖**：Microsoft Edge WebView2 运行时（Windows系统）

### 3.2 Windows版本兼容性

CMTools 为不同的Windows系统提供了3个专门优化的版本：

1. **CMTools.x64.exe**：适用于64位Windows 10+系统（推荐）
2. **CMTools.x86.exe**：适用于32位Windows 10+系统
3. **CMTools.Win7.x86.exe**：专为Windows 7 SP1+系统优化的兼容版本

## 4. 安装与运行

### 4.1 绿色软件特性

CMTools 是一款绿色软件，这意味着它无需安装。只需按照以下步骤操作：

1. 下载适用于您操作系统的最新版本
2. 解压缩到任意位置
3. 双击可执行文件直接运行应用程序

**优势**：
- 无需安装过程
- 不会向系统注册表写入数据
- 可存储在U盘或云存储中，便于携带
- 删除时只需删除文件夹，无残留

### 4.2 运行环境准备

**Windows用户注意事项**：
- 需要安装 Microsoft Edge WebView2 运行时
- Windows 7 用户必须使用专门的兼容版本
- 可能需要安装 Visual C++ 运行库（Windows 7）

## 5. 使用指南

### 5.1 基本操作流程

1. **选择工具**：从界面提供的6种工具中选择适合的处理工具
2. **选择文件**：通过文件选择对话框选择一个或多个需要处理的数据文件
3. **配置选项**：根据所选工具和数据特点，配置相应的处理选项
4. **开始处理**：点击"开始处理"按钮执行数据处理任务
5. **查看结果**：在处理结果区域查看每个文件的处理状态和结果

### 5.2 工具特定配置

不同工具支持不同的配置选项：

- **峰面积数据选项**：AneuFiler、Aneu23、SMNFiler_v1、SHCarrier 支持使用峰面积数据进行计算
- **标准品样本名称**：Aneu23、SMNFiler_v1、SHCarrier 支持指定标准品样本名称
- **Windows系统优化**：SMNFiler_v1、SHCarrier、UPDFiler_v1、UPDFiler_v2 支持Windows系统编码优化

### 5.3 结果处理

- 处理结果文件与输入文件保存在同一目录下
- 成功处理的文件显示✅标识
- 处理失败的文件显示❌标识，并提供详细的错误信息
- 点击结果项可直接打开文件所在目录

## 6. 开发与构建

### 6.1 构建命令

CMTools 提供了多种构建选项以适应不同需求：

- `npm run tauri:build`：构建当前系统环境匹配的版本
- `npm run tauri:build:win`：构建所有Windows版本
- `npm run tauri:build:all`：构建所有支持的平台版本

### 6.2 构建产物

构建完成后会生成以下文件：
- **64位版本**：CMTools.x64.exe
- **32位版本**：CMTools.x86.exe
- **Windows 7兼容版**：CMTools.Win7.x86.exe

### 6.3 扩展新工具

为 CMTools 添加新工具非常简单：
1. 将新工具的可执行文件放置在 src-tauri/ 目录下
2. 在 src-tauri/src/lib.rs 中添加工具嵌入和参数配置
3. 在前端 src/App.vue 中添加工具选项

## 7. 故障排除

### 7.1 常见问题

1. **文件格式错误**：确保选择正确的文件格式（通常是 .txt 或 .csv 文件）
2. **文件路径问题**：避免使用包含特殊字符或非英文字符的路径
3. **权限不足**：以管理员身份运行软件，或检查文件夹读写权限
4. **磁盘空间不足**：清理磁盘空间，特别是系统临时目录
5. **Windows 7兼容性问题**：使用专门的 Windows 7 兼容版本

### 7.2 错误信息说明

CMTools 提供了明确的错误信息帮助用户诊断问题：
- `文件不存在`：选择的文件路径无效或文件已被删除
- `处理文件失败`：文件处理过程中出现问题
- `执行程序失败`：内部工具程序无法正常启动
- `未知的工具名称`：选择了不支持的处理工具
- `无法打开目录`：无法访问文件所在的文件夹

## 8. 项目维护与支持

### 8.1 贡献指南

项目欢迎各种形式的贡献：
- 代码贡献
- 文档完善
- 问题反馈
- 功能建议

### 8.2 技术支持

如遇到问题，可通过以下方式获取支持：
- 查阅项目文档
- 提交 GitHub Issues
- 参考用户手册中的故障排除部分

---

*本项目采用 MIT 许可证，更多信息请查看 LICENSE 文件。*