# CMTools

<div align="center">
  <img src="Cubicise.Logo.png" alt="CMTools Logo" width="120" height="120">
  <h3>ç°ä»£åŒ–çš„è‰²è°±æ•°æ®å¤„ç†å·¥å…·é›†</h3>
  <p>åŸºäº Tauri 2.0 + Vue 3 + TypeScript æ„å»ºçš„è·¨å¹³å°ã€é«˜æ€§èƒ½æ¡Œé¢åº”ç”¨</p>
  
  [![Version](https://img.shields.io/badge/version-2.5.0-blue.svg)](https://github.com/Cubicise/CMTools)
  [![License](https://img.shields.io/badge/license-MIT-green.svg)](LICENSE)
  [![Tauri](https://img.shields.io/badge/Tauri-2.8-orange.svg)](https://tauri.app/)
  [![Vue](https://img.shields.io/badge/Vue-3.5-green.svg)](https://vuejs.org/)
</div>

## ğŸ“‹ é¡¹ç›®ç®€ä»‹

CMTools æ˜¯ä¸€ä¸ªé€šç”¨çš„ã€å¯æ‰©å±•çš„æ•°æ®å¤„ç†ä¸åˆ†æå·¥å…·é›†ï¼Œæ—¨åœ¨æä¾›é«˜æ•ˆã€ç²¾ç¡®ä¸”ç”¨æˆ·å‹å¥½çš„æ•°æ®å¤„ç†è§£å†³æ–¹æ¡ˆã€‚å®ƒé€šè¿‡ç°ä»£åŒ–çš„å›¾å½¢ç”¨æˆ·ç•Œé¢ï¼Œç®€åŒ–äº†å¤æ‚çš„æ•°æ®åˆ†ææµç¨‹ï¼Œå¹¶æ”¯æŒé€šè¿‡å¤–éƒ¨å¯æ‰§è¡Œæ–‡ä»¶ï¼ˆ`.exe`ï¼‰è¿›è¡ŒåŠŸèƒ½æ‰©å±•ã€‚

### ğŸ¤” ä¸ºä»€ä¹ˆé€‰æ‹© CMToolsï¼Ÿ

- **ğŸ¯ ä¸“ä¸ºæ•°æ®åˆ†æè®¾è®¡**ï¼šæ·±å…¥ç†è§£é€šç”¨æ•°æ®å¤„ç†å·¥ä½œæµç¨‹ï¼Œæä¾› `AneuFiler`ã€`Aneu23`ã€`SMNFiler_v1`ã€`SHCarrier`ã€`UPDFiler_v1` å’Œ `UPDFiler_v2` ç­‰æ ¸å¿ƒå·¥å…·ï¼Œå¹¶æ”¯æŒè‡ªå®šä¹‰æ‰©å±•ã€‚
- **ğŸš€ æ€§èƒ½å“è¶Š**ï¼šåŸºäº Rust çš„åç«¯ç¡®ä¿äº†å¼ºå¤§çš„è®¡ç®—èƒ½åŠ›å’Œå†…å­˜å®‰å…¨ï¼Œèƒ½å¤Ÿå¿«é€Ÿå¤„ç†å¤§å‹æ•°æ®é›†ã€‚
- **âœ¨ ç°ä»£ç”¨æˆ·ä½“éªŒ**ï¼šé‡‡ç”¨ Vue 3 æ„å»ºçš„ç•Œé¢ç¾è§‚ã€å“åº”è¿…é€Ÿï¼Œå¹¶æ”¯æŒäº®/æš—è‰²ä¸»é¢˜åˆ‡æ¢å’Œå¤šè¯­è¨€ï¼ˆä¸­/è‹±ï¼‰æ”¯æŒã€‚
- **ğŸ“¦ ç»¿è‰²ä¾¿æº**ï¼šæ— éœ€å®‰è£…ï¼Œå¼€ç®±å³ç”¨ï¼Œä¸æ±¡æŸ“æ“ä½œç³»ç»Ÿã€‚
- **ğŸ¤ å¼€æºå‹å¥½**ï¼šæ‹¥æœ‰æ¸…æ™°çš„æ¶æ„å’Œå®Œå–„çš„æ–‡æ¡£ï¼Œæ¬¢è¿ç¤¾åŒºè´¡çŒ®è€…åŠ å…¥ã€‚

### âœ¨ ä¸»è¦ç‰¹æ€§

- **ğŸ¨ ç°ä»£åŒ– UI è®¾è®¡**ï¼šæ”¯æŒäº®è‰²/æš—è‰²ä¸»é¢˜åˆ‡æ¢ã€‚
- **ğŸŒ å›½é™…åŒ–æ”¯æŒ**ï¼šä¸­æ–‡/è‹±æ–‡åŒè¯­ç•Œé¢ã€‚
- **ğŸ“ æ‰¹é‡æ–‡ä»¶å¤„ç†**ï¼šæ”¯æŒå¤šæ–‡ä»¶åŒæ—¶å¤„ç†ï¼Œæå‡æ•ˆç‡ã€‚
- **âš™ï¸ çµæ´»é…ç½®é€‰é¡¹**ï¼šæ”¯æŒå³°é¢ç§¯/å³°é«˜æ•°æ®é€‰æ‹©ã€æ ‡å‡†å“åç§°é…ç½®ç­‰ã€‚
- **ğŸ”§ ç³»ç»Ÿä¼˜åŒ–**ï¼šé’ˆå¯¹ Windows ç³»ç»Ÿæä¾›ç¼–ç ä¼˜åŒ–æ”¯æŒã€‚
- **ğŸ“Š å®æ—¶å¤„ç†åé¦ˆ**ï¼šæä¾›è¯¦ç»†çš„å¤„ç†ç»“æœå’Œæ¸…æ™°çš„é”™è¯¯ä¿¡æ¯ã€‚
- **ğŸš€ è·¨å¹³å°æ”¯æŒ**ï¼šå¯åœ¨ Windowsã€macOS å’Œ Linux ä¸ŠåŸç”Ÿè¿è¡Œã€‚

## ğŸ—ï¸ æŠ€æœ¯æ¶æ„

CMTools é‡‡ç”¨å‰åç«¯åˆ†ç¦»çš„ç°ä»£æ¡Œé¢åº”ç”¨æ¶æ„ï¼Œåˆ©ç”¨ Tauri å°†åŸºäº Web æŠ€æœ¯çš„ Vue å‰ç«¯ä¸é«˜æ€§èƒ½çš„ Rust åç«¯ç›¸ç»“åˆã€‚

### æŠ€æœ¯æ ˆæ¦‚è§ˆ

- **æŠ€æœ¯æ ˆ**ï¼šVue `^3.5.13` (Composition API) + TypeScript `~5.6.2` + Vite `^6.0.3`
- **åç«¯**ï¼šRust (Edition 2024) + Tauri `^2.8.3` + Tokio `^1.0`
- **æ ¸å¿ƒä¾èµ–**ï¼š`serde` `^1.0`, `tauri-plugin-dialog` `^2.3.3`, `tauri-plugin-opener` `^2.5.0`, `@types/node` (å¼€å‘ä¾èµ–)

### é¡¹ç›®ç»“æ„è¯¦è§£

```
CMTools/
â”œâ”€â”€ `src`/                    # Vue å‰ç«¯æºç 
â”‚   â”œâ”€â”€ `App.vue`            # æ ¸å¿ƒ UI ç»„ä»¶ï¼ŒåŒ…å«æ‰€æœ‰ç•Œé¢å…ƒç´ å’Œäº¤äº’é€»è¾‘
â”‚   â”œâ”€â”€ `main.ts`            # Vue åº”ç”¨å…¥å£æ–‡ä»¶
â”‚   â””â”€â”€ ...
â”œâ”€â”€ `src-tauri`/             # Tauri åç«¯æºç  (Rust)
â”‚   â”œâ”€â”€ `AneuFiler.exe`      # å¤–éƒ¨æ•°æ®å¤„ç†å·¥å…· (ä½œä¸ºèµ„æºåµŒå…¥)
â”‚   â”œâ”€â”€ `Aneu23.exe`         # å¤–éƒ¨æ•°æ®å¤„ç†å·¥å…· (ä½œä¸ºèµ„æºåµŒå…¥)
â”‚   â”œâ”€â”€ `SMNFiler_v1.exe`     # å¤–éƒ¨æ•°æ®å¤„ç†å·¥å…· (ä½œä¸ºèµ„æºåµŒå…¥)
â”‚   â”œâ”€â”€ `SHCarrier.exe`      # å¤–éƒ¨æ•°æ®å¤„ç†å·¥å…· (ä½œä¸ºèµ„æºåµŒå…¥)
â”‚   â”œâ”€â”€ `UPDFiler_v1.exe`    # å¤–éƒ¨æ•°æ®å¤„ç†å·¥å…· (ä½œä¸ºèµ„æºåµŒå…¥)
â”‚   â”œâ”€â”€ `UPDFiler_v2.exe`    # å¤–éƒ¨æ•°æ®å¤„ç†å·¥å…· (ä½œä¸ºèµ„æºåµŒå…¥)
â”‚   â”œâ”€â”€ `src`/
â”‚   â”‚   â”œâ”€â”€ `main.rs`        # Rust åº”ç”¨ä¸»å…¥å£
â”‚   â”‚   â””â”€â”€ `lib.rs`         # æ ¸å¿ƒä¸šåŠ¡é€»è¾‘ï¼Œå°è£…å¹¶è°ƒç”¨å¤–éƒ¨å·¥å…·
â”‚   â”œâ”€â”€ `Cargo.toml`         # Rust ä¾èµ–é…ç½®
â”‚   â””â”€â”€ `tauri.conf.json`    # Tauri åº”ç”¨æ ¸å¿ƒé…ç½®
â”œâ”€â”€ `scripts`/               # æ„å»ºè„šæœ¬é›†åˆ
â”‚   â”œâ”€â”€ `build-current-system.cjs` # å½“å‰ç³»ç»Ÿç¯å¢ƒæ„å»ºè„šæœ¬
â”‚   â”œâ”€â”€ `build-windows-all.cjs` # Windowså…¨ç‰ˆæœ¬æ„å»ºè„šæœ¬
â”‚   â”œâ”€â”€ `build-all-platforms.cjs` # å…¨å¹³å°æ„å»ºè„šæœ¬
â”œâ”€â”€ `user_manual.md`         # ç”¨æˆ·æ‰‹å†Œ
â”œâ”€â”€ `build-config-options.md` # æ„å»ºé…ç½®é€‰é¡¹è¯´æ˜
â”œâ”€â”€ `WINDOWS7_COMPATIBILITY.md` # Windows 7å…¼å®¹æ€§è¯¦ç»†è¯´æ˜
â”œâ”€â”€ `WIN7_COMPATIBILITY_SOLUTION.md` # Windows 7å…¼å®¹æ€§é—®é¢˜è§£å†³æ–¹æ¡ˆ
â”œâ”€â”€ `VERSION_SELECTION_GUIDE.md` # ç‰ˆæœ¬é€‰æ‹©æŒ‡å—
â”œâ”€â”€ `package.json`           # Node.js é¡¹ç›®å…ƒæ•°æ®å’Œä¾èµ–é…ç½®
â””â”€â”€ `README.md`              # å¼€å‘è€…æ–‡æ¡£
```

## ğŸš€ å¿«é€Ÿå¼€å§‹

### ç¯å¢ƒè¦æ±‚

- **Node.js**ï¼š`^18.0.0` æˆ–æ›´é«˜ç‰ˆæœ¬
- **Rust**ï¼š`^1.70.0` æˆ–æ›´é«˜ç‰ˆæœ¬ (é€šè¿‡ `rustup` å®‰è£…)
- **æ“ä½œç³»ç»Ÿ**ï¼šWindows 10 ç‰ˆæœ¬1809 (17763)æˆ–æ›´é«˜ï¼ŒmacOS 10.15+, æˆ–ä¸»æµ Linux å‘è¡Œç‰ˆ
- **æ¶æ„æ”¯æŒ**ï¼šx64ã€x86 æˆ– ARM64
- **å­˜å‚¨ç©ºé—´**ï¼šè‡³å°‘200MBå¯ç”¨å­˜å‚¨ç©ºé—´

> **Windowsç”¨æˆ·ç‰¹åˆ«æ³¨æ„**ï¼šæœ¬é¡¹ç›®åŸºäºTauriæ¡†æ¶å¼€å‘ï¼Œåœ¨Windowsç³»ç»Ÿä¸Šè¿è¡Œæ—¶éœ€è¦å®‰è£…Microsoft Edge WebView2è¿è¡Œæ—¶ã€‚å¦‚æœç³»ç»Ÿç¼ºå°‘è¯¥è¿è¡Œæ—¶ï¼Œä¼šå¯¼è‡´åº”ç”¨æ— æ³•å¯åŠ¨ã€‚å¯é€šè¿‡[å¾®è½¯å®˜æ–¹ä¸‹è½½é¡µé¢](https://developer.microsoft.com/en-us/microsoft-edge/webview2/)è·å–WebView2è¿è¡Œæ—¶ã€‚

> **å¤šæ¶æ„æ„å»ºè¦æ±‚**ï¼šå¦‚éœ€æ„å»º32ä½ç‰ˆæœ¬ï¼Œè¯·å…ˆå®‰è£…å¯¹åº”çš„Rustç›®æ ‡ï¼š`rustup target add i686-pc-windows-msvc`

### å®‰è£…ä¸è¿è¡Œ

1.  **å…‹éš†é¡¹ç›®**
    ```bash
    git clone https://github.com/Cubicise/CMTools.git
    cd CMTools
    ```

2.  **å®‰è£… Node.js ä¾èµ–**
    ```bash
    npm install
    ```

3.  **å¯åŠ¨å¼€å‘æ¨¡å¼**
    ```bash
    npm run tauri dev
    ```
    æ­¤å‘½ä»¤å°†å¯åŠ¨ä¸€ä¸ªå¸¦çƒ­é‡è½½åŠŸèƒ½çš„å¼€å‘çª—å£ï¼Œå¯¹ä»£ç çš„ä»»ä½•ä¿®æ”¹éƒ½ä¼šå®æ—¶åæ˜ åœ¨åº”ç”¨ä¸­ã€‚

### æ„å»ºç”Ÿäº§ç‰ˆæœ¬

#### æ„å»ºå‘½ä»¤è¯´æ˜

| å‘½ä»¤ | è¯´æ˜ | é€‚ç”¨åœºæ™¯ |
|------|------|----------|
| `npm run tauri:build` | æ„å»ºå½“å‰ç³»ç»Ÿç¯å¢ƒåŒ¹é…çš„ç‰ˆæœ¬ | æ—¥å¸¸å¼€å‘å’Œæµ‹è¯• |
| `npm run tauri:build:win` | æ„å»ºæ‰€æœ‰Windowsç‰ˆæœ¬ | Windowså¹³å°å‘å¸ƒ |
| `npm run tauri:build:all` | æ„å»ºæ‰€æœ‰æ”¯æŒçš„å¹³å°ç‰ˆæœ¬ | å¤šå¹³å°å®Œæ•´å‘å¸ƒ |

#### æ„å»ºå½“å‰ç³»ç»Ÿç¯å¢ƒç‰ˆæœ¬
```
# æ„å»ºå½“å‰ç³»ç»Ÿç¯å¢ƒåŒ¹é…çš„ç‰ˆæœ¬
npm run tauri:build
```

æ­¤å‘½ä»¤å°†è‡ªåŠ¨æ£€æµ‹å½“å‰ç³»ç»Ÿç¯å¢ƒå¹¶æ„å»ºå¯¹åº”çš„ç‰ˆæœ¬ï¼š
- Windows x64ç³»ç»Ÿï¼šæ„å»º `CMTools.x64.exe`
- Windows x86ç³»ç»Ÿï¼šæ„å»º `CMTools.x86.exe`
- Windows 7ç³»ç»Ÿï¼šå»ºè®®ä½¿ç”¨ `npm run tauri:build:win`
- å…¶ä»–ç³»ç»Ÿï¼šæ„å»ºé»˜è®¤ç›®æ ‡å¹³å°ç‰ˆæœ¬

æ­¤å‘½ä»¤å°†ï¼š
1. è‡ªåŠ¨æ£€æŸ¥å¹¶å®‰è£…æ‰€éœ€çš„Rustæ„å»ºç›®æ ‡
2. æ„å»º32ä½å’Œ64ä½Windowsç‰ˆæœ¬
3. æŒ‰ç…§å‘½åè§„èŒƒé‡å‘½åæ–‡ä»¶ä¸º `CMTools.x86.exe` å’Œ `CMTools.x64.exe`
4. å°†é‡å‘½ååçš„æ–‡ä»¶å¤åˆ¶åˆ°é¡¹ç›®æ ¹ç›®å½•ä¾¿äºè®¿é—®

#### æ„å»ºæ‰€æœ‰Windowsç‰ˆæœ¬
```
# æ„å»ºæ‰€æœ‰Windowsç‰ˆæœ¬ï¼ˆ64ä½ã€32ä½ã€Windows 7å…¼å®¹ç‰ˆï¼‰
npm run tauri:build:win
```

æ­¤å‘½ä»¤å°†æ„å»ºæ‰€æœ‰Windowsæ”¯æŒçš„ç‰ˆæœ¬ï¼š
- `CMTools.x64.exe` - 64ä½Windowsç‰ˆæœ¬
- `CMTools.x86.exe` - 32ä½Windowsç‰ˆæœ¬
- `CMTools.Win7.x86.exe` - Windows 7å…¼å®¹ç‰ˆæœ¬

#### æ„å»ºæ‰€æœ‰å¹³å°ç‰ˆæœ¬
```
# æ„å»ºæ‰€æœ‰æ”¯æŒçš„å¹³å°ç‰ˆæœ¬
npm run tauri:build:all
```

æ­¤å‘½ä»¤å°†æ„å»ºæ‰€æœ‰æ”¯æŒçš„å¹³å°ç‰ˆæœ¬ï¼ŒåŒ…æ‹¬Windowsã€macOSå’ŒLinuxã€‚

> **æ³¨æ„**ï¼šè·¨å¹³å°æ„å»ºéœ€è¦ç›¸åº”çš„å¼€å‘ç¯å¢ƒã€‚åœ¨Windowsç³»ç»Ÿä¸Šï¼Œé»˜è®¤æ„å»ºWindowsç‰ˆæœ¬ï¼›åœ¨macOSä¸Šæ„å»ºmacOSç‰ˆæœ¬ï¼›åœ¨Linuxä¸Šæ„å»ºLinuxç‰ˆæœ¬ã€‚

#### æ„å»ºäº§ç‰©è¯´æ˜

**è½¯ä»¶å‘½åè§„èŒƒï¼š**
- **64ä½ç‰ˆæœ¬ï¼š** `CMTools.x64.exe`
- **32ä½ç‰ˆæœ¬ï¼š** `CMTools.x86.exe`
- **Windows 7å…¼å®¹ç‰ˆï¼š** `CMTools.Win7.x86.exe`

**æ–‡ä»¶ä½ç½®ï¼š**
- **ä¾¿äºä½¿ç”¨ï¼š** é¡¹ç›®æ ¹ç›®å½•ä¸‹çš„é‡å‘½åç‰ˆæœ¬ï¼ˆæ¨èï¼‰
- **åŸå§‹æ„å»ºï¼š** `src-tauri/target/[æ¶æ„]/release/cmtools.exe`

ç”±äºæœ¬é¡¹ç›®æ—¨åœ¨åˆ†å‘ç»¿è‰²è½¯ä»¶ï¼Œæ‚¨åªéœ€å…³æ³¨æ ¹ç›®å½•ä¸‹æŒ‰è§„èŒƒå‘½åçš„å¯æ‰§è¡Œæ–‡ä»¶ã€‚è¿™äº›æ–‡ä»¶åŒ…å«äº†æ‰€æœ‰å¿…è¦çš„å¤–éƒ¨å·¥å…·ï¼ˆ`AneuFiler.exe`ã€`Aneu23.exe`ã€`SHCarrier.exe` ç­‰ï¼‰ï¼Œæ— éœ€é¢å¤–æ‰“åŒ…ã€‚

è‹¥éœ€åˆ›å»ºä¼ ç»Ÿå®‰è£…åŒ…ï¼Œå¯åœ¨ `src-tauri/target/release/bundle/` ç›®å½•ä¸‹æŸ¥æ‰¾ã€‚

## ğŸ› ï¸ å¼€å‘æŒ‡å—

### å¿«é€Ÿå‚è€ƒï¼šæ„å»ºå‘½ä»¤

| å‘½ä»¤ | è¯´æ˜ | é€‚ç”¨åœºæ™¯ |
|------|------|----------|
| `npm run tauri:build` | æ„å»ºå½“å‰ç³»ç»Ÿç¯å¢ƒåŒ¹é…çš„ç‰ˆæœ¬ | æ—¥å¸¸å¼€å‘å’Œæµ‹è¯• |
| `npm run tauri:build:win` | æ„å»ºæ‰€æœ‰Windowsç‰ˆæœ¬ | Windowså¹³å°å‘å¸ƒ |
| `npm run tauri:build:all` | æ„å»ºæ‰€æœ‰æ”¯æŒçš„å¹³å°ç‰ˆæœ¬ | å¤šå¹³å°å®Œæ•´å‘å¸ƒ |
| `npm run tauri dev` | å¯åŠ¨å¼€å‘æ¨¡å¼ | æ—¥å¸¸å¼€å‘ |

### ä»£ç è§„èŒƒ

- **é€šç”¨**ï¼šéµå¾ªé¡¹ç›® `.editorconfig` å’Œ `.prettierrc` é…ç½®ã€‚
- **TypeScript/Vue**ï¼šä½¿ç”¨ ESLint ä¿è¯ä»£ç è´¨é‡ï¼Œéµå¾ª `Composition API` å’Œ `<script setup>` è¯­æ³•ã€‚
- **Rust**ï¼šä½¿ç”¨ `cargo fmt` æ ¼å¼åŒ–ä»£ç ï¼Œéµå¾ªå®˜æ–¹ç¼–ç é£æ ¼å’Œ `clippy` å»ºè®®ã€‚
- **æäº¤ä¿¡æ¯**ï¼šéµå¾ª [Conventional Commits](https://www.conventionalcommits.org/) è§„èŒƒï¼Œä¾¿äºç”Ÿæˆæ¸…æ™°çš„å˜æ›´æ—¥å¿—ã€‚

### æ ¸å¿ƒæ¶æ„ï¼šå¤–éƒ¨å·¥å…·é©±åŠ¨

CMTools çš„æ ¸å¿ƒè®¾è®¡æ€æƒ³æ˜¯é€šè¿‡ Rust åç«¯è°ƒç”¨å¤–éƒ¨çš„å‘½ä»¤è¡Œå¯æ‰§è¡Œæ–‡ä»¶ï¼ˆ`.exe`ï¼‰æ¥å®Œæˆæ ¸å¿ƒæ•°æ®å¤„ç†ä»»åŠ¡ã€‚è¿™ç§æ¶æ„å¸¦æ¥äº†æé«˜çš„çµæ´»æ€§å’Œå¯æ‰©å±•æ€§ã€‚

- **å·¥å…·åµŒå…¥**ï¼šå¤–éƒ¨å·¥å…·ï¼ˆå¦‚ `AneuFiler.exe`ï¼‰è¢«æ”¾ç½®åœ¨ `src-tauri` ç›®å½•ä¸‹ã€‚åœ¨æ„å»ºæ—¶ï¼ŒRust çš„ `include_bytes!` å®ä¼šå°†è¿™äº›æ–‡ä»¶çš„äºŒè¿›åˆ¶å†…å®¹ç›´æ¥åµŒå…¥åˆ°æœ€ç»ˆç”Ÿæˆçš„å¯æ‰§è¡Œæ–‡ä»¶ä¸­ã€‚
- **è¿è¡Œæ—¶é‡Šæ”¾**ï¼šå½“ç”¨æˆ·è°ƒç”¨ä¸€ä¸ªåŠŸèƒ½æ—¶ï¼Œåç«¯é€»è¾‘ä¼šä»å†…å­˜ä¸­è¯»å–ç›¸åº”å·¥å…·çš„äºŒè¿›åˆ¶æ•°æ®ï¼Œå¹¶å°†å…¶å†™å…¥æ“ä½œç³»ç»Ÿçš„ä¸´æ—¶ç›®å½•ä¸­ï¼Œä½¿å…¶æˆä¸ºä¸€ä¸ªä¸´æ—¶çš„å¯æ‰§è¡Œæ–‡ä»¶ã€‚
- **å‘½ä»¤è°ƒç”¨**ï¼šåç«¯éšåä½¿ç”¨ Rust çš„ `std::process::Command` æ¨¡å—ï¼Œåƒè°ƒç”¨æ™®é€šå‘½ä»¤è¡Œç¨‹åºä¸€æ ·æ‰§è¡Œè¿™ä¸ªä¸´æ—¶æ–‡ä»¶ï¼Œå¹¶é€šè¿‡å‚æ•°ä¼ é€’è¾“å…¥æ–‡ä»¶è·¯å¾„å’Œå¤„ç†é€‰é¡¹ã€‚
- **ç»“æœè¿”å›**ï¼šå¤–éƒ¨å·¥å…·æ‰§è¡Œå®Œæ¯•åï¼Œåç«¯æ•è·å…¶è¾“å‡ºï¼Œå¹¶å°†å¤„ç†ç»“æœï¼ˆæˆåŠŸæˆ–å¤±è´¥ä¿¡æ¯ï¼‰è¿”å›ç»™å‰ç«¯ç•Œé¢ã€‚

è¿™ç§è®¾è®¡å°†æ ¸å¿ƒç®—æ³•ä¸UIæ¡†æ¶è§£è€¦ï¼Œä½¿å¾—æ›¿æ¢æˆ–æ–°å¢æ•°æ®å¤„ç†å·¥å…·å˜å¾—éå¸¸ç®€å•ï¼Œæ— éœ€é‡æ–°ç¼–è¯‘æ•´ä¸ªå‰ç«¯åº”ç”¨ã€‚

### å‰åç«¯äº¤äº’

å‰åç«¯é€šä¿¡ä¾èµ– Tauri çš„ `invoke` æœºåˆ¶ã€‚æ ¸å¿ƒçš„äº¤äº’ç‚¹æ˜¯ `lib.rs` ä¸­å®šä¹‰çš„ `process_files` å’Œ `open_file_directory` å‘½ä»¤ã€‚

**åç«¯å‘½ä»¤ç¤ºä¾‹ (`src-tauri/src/lib.rs`)**
```rust
#[tauri::command]
#[tauri::command]
async fn open_file_directory(file_path: String) -> Result<(), String> {
    // ... ä¸šåŠ¡é€»è¾‘
}

#[tauri::command]
async fn process_files(
    language: String, // æ–°å¢è¯­è¨€å‚æ•°
    tool_name: String,
    // ... å…¶ä»–å‚æ•°
) -> Result<Vec<ProcessResult>, String> {
    // ... ä¸šåŠ¡é€»è¾‘
}
```

**å‰ç«¯è°ƒç”¨ç¤ºä¾‹ (`src/App.vue`)**
```typescript
import { invoke } from '@tauri-apps/api/core';

async function handleFileProcessing() {
  try {
    await invoke('open_file_directory', { filePath: path });

// ...

const results = await invoke('process_files', {
      language: currentLanguage.value,
      toolName: selectedTool.value,
      // ... å…¶ä»–å‚æ•°
    });
    // ... å¤„ç†ç»“æœ
  } catch (error) {
    // ... é”™è¯¯å¤„ç†
  }
}
```

### å›½é™…åŒ– (i18n)

å›½é™…åŒ–æ–‡æœ¬å­˜å‚¨åœ¨ `App.vue` çš„ `translations` å¯¹è±¡ä¸­ã€‚åç«¯æ¶ˆæ¯é€šè¿‡ `get_message` å‡½æ•°æ ¹æ®å‰ç«¯ä¼ é€’çš„ `language` å‚æ•°åŠ¨æ€è·å–ã€‚

- **å‰ç«¯**ï¼š`t('key')` å‡½æ•°ç”¨äºç¿»è¯‘ç•Œé¢æ–‡æœ¬ã€‚
- **åç«¯**ï¼š`get_message(&language, "message_key")` ç”¨äºè·å–æœ¬åœ°åŒ–æ¶ˆæ¯ã€‚

### å¦‚ä½•æ·»åŠ æ–°å·¥å…·

ä¸º CMTools æ·»åŠ ä¸€ä¸ªæ–°çš„æ•°æ®å¤„ç†å·¥å…·éå¸¸ç›´æ¥ã€‚å‡è®¾æ‚¨æœ‰ä¸€ä¸ªåä¸º `NewTool.exe` çš„å‘½ä»¤è¡Œå·¥å…·ï¼Œè¯·éµå¾ªä»¥ä¸‹æ­¥éª¤ï¼š

1.  **æ·»åŠ å¯æ‰§è¡Œæ–‡ä»¶**ï¼šå°† `NewTool.exe` æ”¾ç½®åœ¨ `src-tauri/` ç›®å½•ä¸‹ã€‚

2.  **åµŒå…¥äºŒè¿›åˆ¶æ–‡ä»¶**ï¼šåœ¨ `src-tauri/src/lib.rs` çš„ `process_files` å‡½æ•°ä¸­ï¼Œæ‰¾åˆ° `match tool_name.as_str()` è¡¨è¾¾å¼ï¼Œå¹¶æ·»åŠ ä¸€ä¸ªæ–°çš„åˆ†æ”¯æ¥åµŒå…¥æ‚¨çš„å·¥å…·ï¼š
    ```rust
    let (exe_name, exe_data): (&str, &[u8]) = match tool_name.as_str() {
        "AneuFiler" => ("AneuFiler.exe", include_bytes!("../../AneuFiler.exe")),
        "Aneu23" => ("Aneu23.exe", include_bytes!("../../Aneu23.exe")),
        "SMNFiler_v1" => ("SMNFiler_v1.exe", include_bytes!("../../SMNFiler_v1.exe")),
        "SHCarrier" => ("SHCarrier.exe", include_bytes!("../../SHCarrier.exe")),
        "UPDFiler_v1" => ("UPDFiler_v1.exe", include_bytes!("../../UPDFiler_v1.exe")),
        "UPDFiler_v2" => ("UPDFiler_v2.exe", include_bytes!("../../UPDFiler_v2.exe")),
        "NewTool" => ("NewTool.exe", include_bytes!("../../NewTool.exe")), // <-- æ–°å¢æ­¤è¡Œ
        _ => return Err(get_message("unknown_tool", lang, None)),
    };
    ```

3.  **å®šä¹‰å·¥å…·å‚æ•°**ï¼šåœ¨ `process_files` å‡½æ•°ä¸‹æ–¹çš„ `match tool_name.as_str()` è¡¨è¾¾å¼ä¸­ï¼Œä¸ºæ‚¨çš„æ–°å·¥å…·å®šä¹‰å‘½ä»¤è¡Œå‚æ•°ã€‚æ‚¨å¯ä»¥å¤ç”¨ç°æœ‰çš„ `use_area_data` ç­‰é€‰é¡¹ï¼Œæˆ–ä»å‰ç«¯ä¼ é€’æ–°çš„è‡ªå®šä¹‰å‚æ•°ã€‚
    ```rust
    match tool_name.as_str() {
        "AneuFiler" => { /* ... */ }
        "Aneu23" | "SHCarrier" => { /* ... */ }
        "SMNFiler_v1" => { // SMNFiler_v1 ç‰¹æœ‰çš„å‚æ•°å¤„ç†
            cmd.arg("-i").arg(&file_path);
            // ä½¿ç”¨å³°é¢ç§¯æ•°æ®
            if use_area_data { cmd.arg("-a"); }
            // æ ‡å‡†å“æ ·æœ¬åç§°
            if let Some(std_name) = &std_sample_name {
                cmd.arg("-c").arg(std_name);
            }
            // Windows ç³»ç»Ÿä¼˜åŒ–
            if windows_optimization { cmd.arg("-e").arg("GBK"); }
            // è¾“å‡ºè·¯å¾„
            cmd.arg("-o").arg(file_dir);
            // è¯­è¨€è®¾ç½®
            if language == "zh-CN" { cmd.arg("-l"); }
        }
        "NewTool" => { // <-- æ–°å¢æ­¤åˆ†æ”¯
            cmd.arg("-i").arg(&file_path);
            // æ·»åŠ  NewTool ç‰¹æœ‰çš„å‚æ•°
            // if some_new_option { cmd.arg("--new-option"); }
        }
        _ => { cmd.arg(&file_path); }
    }
    ```

4.  **æ›´æ–°å‰ç«¯ç•Œé¢**ï¼šåœ¨ `src/App.vue` ä¸­ï¼Œå°†æ‚¨çš„æ–°å·¥å…·æ·»åŠ åˆ° `tools` æ•°ç»„ä¸­ï¼Œä»¥ä¾¿ç”¨æˆ·å¯ä»¥åœ¨ç•Œé¢ä¸Šé€‰æ‹©å®ƒã€‚
    ```typescript
    const tools: ToolConfig[] = [
      { name: ToolType.AneuFiler, label: "AneuFiler", supportsStdSample: false, supportsWindowsOptimization: false, supportsAreaData: true },
      { name: ToolType.Aneu23, label: "Aneu23", supportsStdSample: true, supportsWindowsOptimization: false, supportsAreaData: true },
      { name: ToolType.SMNFiler_v1, label: "SMNFiler_v1", supportsStdSample: true, supportsWindowsOptimization: true, supportsAreaData: true },
      { name: ToolType.SHCarrier, label: "SHCarrier", supportsStdSample: true, supportsWindowsOptimization: true, supportsAreaData: true },
      { name: ToolType.UPDFiler_v1, label: "UPDFiler_v1", supportsStdSample: false, supportsWindowsOptimization: true, supportsAreaData: false },
      { name: ToolType.UPDFiler_v2, label: "UPDFiler_v2", supportsStdSample: false, supportsWindowsOptimization: true, supportsAreaData: false },
      { name: ToolType.NewTool, label: "NewTool", supportsStdSample: false, supportsWindowsOptimization: true, supportsAreaData: true } // <-- æ–°å¢æ­¤è¡Œ
    ];
    ```

5.  **æ·»åŠ ç‰¹å®šé€‰é¡¹ (å¯é€‰)**ï¼šå¦‚æœæ‚¨çš„å·¥å…·éœ€è¦æ–°çš„ UI é€‰é¡¹ï¼Œå¯ä»¥åœ¨ `App.vue` çš„ `<template>` å’Œ `<script>` éƒ¨åˆ†æ·»åŠ ç›¸åº”çš„ `ref` å’Œ HTML å…ƒç´ ï¼Œå¹¶å°†å…¶ä½œä¸ºå‚æ•°ä¼ é€’ç»™ `invoke('process_files', ...)` è°ƒç”¨ã€‚

### è°ƒè¯•æŠ€å·§

- **æŸ¥çœ‹åç«¯æ—¥å¿—**ï¼šåœ¨å¼€å‘æ¨¡å¼ä¸‹ (`npm run tauri dev`)ï¼Œåç«¯ Rust ä»£ç ä¸­çš„ `println!` å®è¾“å‡ºä¼šç›´æ¥æ˜¾ç¤ºåœ¨å¯åŠ¨åº”ç”¨çš„æ§åˆ¶å°ä¸­ã€‚`lib.rs` ä¸­å·²åŒ…å«ç”¨äºæ‰“å°æ‰§è¡Œå‘½ä»¤ã€å·¥ä½œç›®å½•å’Œå‚æ•°çš„è°ƒè¯•ä»£ç  (`#[cfg(debug_assertions)]`)ï¼Œè¿™å¯¹äºè°ƒè¯•å‚æ•°æ˜¯å¦æ­£ç¡®ä¼ é€’éå¸¸æœ‰ç”¨ã€‚
- **æ£€æŸ¥ä¸´æ—¶æ–‡ä»¶**ï¼šæ‚¨å¯ä»¥å‰å¾€ç³»ç»Ÿçš„ä¸´æ—¶ç›®å½•ï¼ˆWindows ä¸Šé€šå¸¸æ˜¯ `%TEMP%`ï¼‰æŸ¥æ‰¾åä¸º `cmtools_*.exe` çš„æ–‡ä»¶ï¼Œä»¥ç¡®è®¤å¯æ‰§è¡Œæ–‡ä»¶æ˜¯å¦è¢«æ­£ç¡®é‡Šæ”¾ã€‚
- **å¤šæ¶æ„æ„å»ºè°ƒè¯•**ï¼šä½¿ç”¨ `scripts/build-all-platforms.cjs` è„šæœ¬æ—¶ï¼Œå¯ä»¥æŸ¥çœ‹æ§åˆ¶å°è¾“å‡ºäº†è§£æ„å»ºè¿›åº¦å’Œå¯èƒ½çš„é”™è¯¯ä¿¡æ¯ã€‚è„šæœ¬ä¼šè‡ªåŠ¨æ£€æŸ¥Rustç›®æ ‡å®‰è£…æƒ…å†µå¹¶æ˜¾ç¤ºæ„å»ºç»“æœã€‚

## ğŸ§ª æµ‹è¯•

é«˜è´¨é‡çš„æµ‹è¯•æ˜¯é¡¹ç›®ç»´æŠ¤çš„å…³é”®ã€‚æˆ‘ä»¬é¼“åŠ±ä¸ºæ–°åŠŸèƒ½å’Œé”™è¯¯ä¿®å¤ç¼–å†™æµ‹è¯•ã€‚

- **Rust å•å…ƒæµ‹è¯•**ï¼šé’ˆå¯¹ `lib.rs` ä¸­çš„è¾…åŠ©å‡½æ•°å’Œé€»è¾‘ã€‚
  ```bash
  cd src-tauri
  cargo test
  ```
- **å‰ç«¯å•å…ƒæµ‹è¯•**ï¼šä½¿ç”¨ Vitest æµ‹è¯• Vue ç»„ä»¶å’Œå·¥å…·å‡½æ•°ã€‚
  ```bash
  npm run test
  ```
- **ç«¯åˆ°ç«¯ (E2E) æµ‹è¯•**ï¼šä½¿ç”¨ Tauri çš„ WebDriver æ”¯æŒè¿›è¡Œè‡ªåŠ¨åŒ–UIæµ‹è¯• (å¾…å®Œå–„)ã€‚

## ğŸ“¦ éƒ¨ç½²

### è‡ªåŠ¨åŒ–æ„å»º

é¡¹ç›®å·²é…ç½® GitHub Actions (`.github/workflows/build.yml`)ï¼Œå¯åœ¨æ¨é€ `v*` æ ‡ç­¾æ—¶è‡ªåŠ¨ä¸º Windows, macOS, å’Œ Linux æ„å»ºã€æ‰“åŒ…å’Œåˆ›å»º Releaseã€‚

### å¤šæ¶æ„æ„å»ºéƒ¨ç½²

å¯¹äºWindowså¹³å°ï¼Œæ¨èä½¿ç”¨å¤šæ¶æ„æ„å»ºè„šæœ¬è¿›è¡Œéƒ¨ç½²ï¼š

```bash
# ä¸€é”®æ„å»º32ä½å’Œ64ä½ç‰ˆæœ¬
npm run tauri:build
```

æ„å»ºå®Œæˆåï¼Œæ‚¨å°†è·å¾—ï¼š
- `CMTools.x64.exe` - 64ä½Windowsç‰ˆæœ¬
- `CMTools.x86.exe` - 32ä½Windowsç‰ˆæœ¬

**åˆ†å‘å»ºè®®ï¼š**
- 64ä½ç‰ˆæœ¬é€‚ç”¨äºå¤§å¤šæ•°ç°ä»£Windowsç³»ç»Ÿ
- 32ä½ç‰ˆæœ¬é€‚ç”¨äºè€æ—§ç³»ç»Ÿæˆ–ç‰¹æ®Šç¯å¢ƒéœ€æ±‚
- ä¸¤ä¸ªç‰ˆæœ¬åŠŸèƒ½å®Œå…¨ä¸€è‡´ï¼Œç”¨æˆ·å¯æ ¹æ®ç³»ç»Ÿæ¶æ„é€‰æ‹©

## ğŸ¤ è´¡çŒ®æŒ‡å—

æˆ‘ä»¬çƒ­çƒˆæ¬¢è¿å„ç§å½¢å¼çš„è´¡çŒ®ï¼Œæ— è®ºæ˜¯ä»£ç ã€æ–‡æ¡£è¿˜æ˜¯é—®é¢˜åé¦ˆï¼

### è¡Œä¸ºå‡†åˆ™

è¯·åœ¨è´¡çŒ®å‰é˜…è¯»æˆ‘ä»¬çš„ [è¡Œä¸ºå‡†åˆ™](CODE_OF_CONDUCT.md) (å¾…åˆ›å»º)ï¼Œæˆ‘ä»¬è‡´åŠ›äºè¥é€ ä¸€ä¸ªå‹å¥½ã€äº’ç›¸å°Šé‡çš„ç¤¾åŒºç¯å¢ƒã€‚

### è´¡çŒ®æµç¨‹

1.  **Fork** æœ¬é¡¹ç›®ã€‚
2.  **åˆ›å»ºæ–°åˆ†æ”¯**ï¼š`git checkout -b feature/your-amazing-feature`
3.  **æäº¤æ‚¨çš„æ›´æ”¹**ï¼š`git commit -m 'feat: Add some amazing feature'`
4.  **æ¨é€åˆ°æ‚¨çš„åˆ†æ”¯**ï¼š`git push origin feature/your-amazing-feature`
5.  **åˆ›å»º Pull Request**ï¼Œå¹¶è¯¦ç»†æè¿°æ‚¨çš„æ›´æ”¹ã€‚

æˆ‘ä»¬å°¤å…¶æ¬¢è¿ä»¥ä¸‹ç±»å‹çš„è´¡çŒ®ï¼š
- **æ·»åŠ æ–°çš„æ•°æ®å¤„ç†å·¥å…·** (è¯·éµå¾ªä¸Šæ–‡çš„å¼€å‘æŒ‡å—)ã€‚
- æ”¹è¿›ç°æœ‰å·¥å…·çš„å‚æ•°å’Œé€»è¾‘ã€‚
- å®Œå–„å›½é™…åŒ–ç¿»è¯‘ã€‚
- ä¿®å¤ Bug æˆ–ä¼˜åŒ–æ€§èƒ½ã€‚

> åœ¨æäº¤ PR å‰ï¼Œè¯·ç¡®ä¿æ‚¨çš„ä»£ç é€šè¿‡äº† `cargo test` å’Œ `npm run test`ã€‚

## ğŸ› é—®é¢˜æŠ¥å‘Š

å¦‚æœæ‚¨å‘ç°äº† Bug æˆ–æœ‰åŠŸèƒ½å»ºè®®ï¼Œè¯·å‰å¾€ [Issues](https://github.com/Cubicise/CMTools/issues) é¡µé¢ï¼š

1.  æœç´¢ç°æœ‰ Issueï¼Œé¿å…é‡å¤æäº¤ã€‚
2.  è‹¥æ— ç›¸å…³é—®é¢˜ï¼Œè¯·åˆ›å»ºä¸€ä¸ªæ–°çš„ Issueã€‚
3.  è¯·æä¾›è¯¦ç»†çš„é—®é¢˜æè¿°ã€å¤ç°æ­¥éª¤ã€æˆªå›¾æˆ–æ—¥å¿—ï¼Œä»¥åŠæ‚¨çš„æ“ä½œç³»ç»Ÿå’Œåº”ç”¨ç‰ˆæœ¬ä¿¡æ¯ã€‚

## ğŸ“š ç›¸å…³èµ„æº

- **ç”¨æˆ·æ‰‹å†Œ**ï¼š[user_manual.md](user_manual.md)
- **ç‰ˆæœ¬é€‰æ‹©æŒ‡å—**ï¼š[VERSION_SELECTION_GUIDE.md](VERSION_SELECTION_GUIDE.md)
- **Windows 7å…¼å®¹æ€§è¯´æ˜**ï¼š[WINDOWS7_COMPATIBILITY.md](WINDOWS7_COMPATIBILITY.md)
- **Windows 7é—®é¢˜è§£å†³æ–¹æ¡ˆ**ï¼š[WIN7_COMPATIBILITY_SOLUTION.md](WIN7_COMPATIBILITY_SOLUTION.md)
- **æ„å»ºé…ç½®é€‰é¡¹**ï¼š[build-config-options.md](build-config-options.md)
- **Tauri å®˜æ–¹æ–‡æ¡£**ï¼š[tauri.app](https://tauri.app/)
- **Vue 3 å®˜æ–¹æ–‡æ¡£**ï¼š[vuejs.org](https://vuejs.org/)
- **Rust å®˜æ–¹æ–‡æ¡£**ï¼š[doc.rust-lang.org](https://doc.rust-lang.org/)

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ MIT è®¸å¯è¯ - æŸ¥çœ‹ [LICENSE](LICENSE) æ–‡ä»¶äº†è§£è¯¦æƒ…ã€‚

## ğŸ™ è‡´è°¢

æ„Ÿè°¢æ‰€æœ‰ä¸ºè¿™ä¸ªé¡¹ç›®åšå‡ºè´¡çŒ®çš„å¼€å‘è€…å’Œæä¾›åé¦ˆçš„ç”¨æˆ·ï¼

---

<div align="center">
  <p>å¦‚æœè¿™ä¸ªé¡¹ç›®å¯¹æ‚¨æœ‰å¸®åŠ©ï¼Œè¯·ç»™æˆ‘ä»¬ä¸€ä¸ª â­ï¸</p>
  <p>Made with â¤ï¸ by the CMTools Team</p>
</div>
