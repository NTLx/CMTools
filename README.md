# CMTools

<div align="center">
  <img src="src/assets/Cubicise.Logo.png" alt="CMTools Logo" width="120" height="120">
  <h3>ç°ä»£åŒ–çš„è‰²è°±æ•°æ®å¤„ç†å·¥å…·é›†</h3>
  <p>åŸºäº Tauri 2.0 + Vue 3 + TypeScript æ„å»ºçš„è·¨å¹³å°ã€é«˜æ€§èƒ½æ¡Œé¢åº”ç”¨</p>
  
  [![Version](https://img.shields.io/badge/version-2.6.7-blue.svg)](https://github.com/Cubicise/CMTools)
  [![License](https://img.shields.io/badge/license-MIT-green.svg)](LICENSE)
  [![Tauri](https://img.shields.io/badge/Tauri-2.9-orange.svg)](https://tauri.app/)
  [![Vue](https://img.shields.io/badge/Vue-3.5-green.svg)](https://vuejs.org/)
</div>

## ğŸ“‹ é¡¹ç›®ç®€ä»‹

CMTools æ˜¯ä¸€ä¸ªåŸºäº Tauri 2.0 + Vue 3 + TypeScript æ„å»ºçš„è·¨å¹³å°æ¡Œé¢åº”ç”¨ï¼Œä¸“ä¸ºè‰²è°±æ•°æ®å¤„ç†è€Œè®¾è®¡ã€‚é‡‡ç”¨å‰åç«¯åˆ†ç¦»æ¶æ„ï¼Œé€šè¿‡ Rust åç«¯è°ƒç”¨å¤–éƒ¨å‘½ä»¤è¡Œå·¥å…·å®ç°æ ¸å¿ƒæ•°æ®å¤„ç†åŠŸèƒ½ã€‚

**æ¶æ„ç‰¹ç‚¹ï¼š**
- **å‰ç«¯**ï¼šVue 3 (Composition API) + TypeScript + Viteï¼Œæä¾›ç°ä»£åŒ–çš„ç”¨æˆ·ç•Œé¢
- **åç«¯**ï¼šRust + Tauri + Tokioï¼Œç¡®ä¿é«˜æ€§èƒ½å’Œå†…å­˜å®‰å…¨
- **æ‰©å±•æ€§**ï¼šé€šè¿‡å¤–éƒ¨å¯æ‰§è¡Œæ–‡ä»¶ï¼ˆ.exeï¼‰æœºåˆ¶ï¼Œæ”¯æŒçµæ´»æ·»åŠ æ–°çš„æ•°æ®å¤„ç†å·¥å…·

**æ ¸å¿ƒä¼˜åŠ¿ï¼š**
- ğŸš€ **é«˜æ€§èƒ½**ï¼šRust åç«¯å¯å¿«é€Ÿå¤„ç†å¤§å‹æ•°æ®é›†
- ğŸ› ï¸ **å¯æ‰©å±•**ï¼šæ¸…æ™°çš„æ¶æ„è®¾è®¡ï¼Œæ˜“äºæ·»åŠ æ–°å·¥å…·
- ğŸŒ **è·¨å¹³å°**ï¼šæ”¯æŒ Windowsã€macOS å’Œ Linux
- ğŸ“¦ **ç»¿è‰²è½¯ä»¶**ï¼šæ— éœ€å®‰è£…ï¼Œå¼€ç®±å³ç”¨

> **ç”¨æˆ·æŒ‡å—**ï¼šå¦‚éœ€äº†è§£å¦‚ä½•ä½¿ç”¨ CMToolsï¼Œè¯·æŸ¥é˜… [user_manual.md](user_manual.md)

## ğŸ—ï¸ æŠ€æœ¯æ¶æ„

CMTools é‡‡ç”¨å‰åç«¯åˆ†ç¦»çš„ç°ä»£æ¡Œé¢åº”ç”¨æ¶æ„ï¼Œåˆ©ç”¨ Tauri å°†åŸºäº Web æŠ€æœ¯çš„ Vue å‰ç«¯ä¸é«˜æ€§èƒ½çš„ Rust åç«¯ç›¸ç»“åˆã€‚

### æŠ€æœ¯æ ˆæ¦‚è§ˆ

- **å‰ç«¯**ï¼šVue 3.5 + TypeScript 5.6 + Vite 6.0
- **åç«¯**ï¼šRust (Edition 2024) + Tauri 2.9 + Tokio 1.0
- **æ ¸å¿ƒä¾èµ–**ï¼šserde, tauri-plugin-dialog, tauri-plugin-opener

**ç‰ˆæœ¬ä¿¡æ¯**ï¼šè¯¦è§ [package.json](package.json) å’Œ [src-tauri/Cargo.toml](src-tauri/Cargo.toml)

### é¡¹ç›®ç»“æ„è¯¦è§£

```
CMTools/
â”œâ”€â”€ src/                      # Vue å‰ç«¯æºç 
â”‚   â”œâ”€â”€ App.vue              # æ ¸å¿ƒ UI ç»„ä»¶
â”‚   â”œâ”€â”€ main.ts              # Vue åº”ç”¨å…¥å£
â”‚   â””â”€â”€ assets/              # èµ„æºæ–‡ä»¶ï¼ˆåŒ…å«åµŒå…¥çš„å¤–éƒ¨å·¥å…·ï¼‰
â”‚       â”œâ”€â”€ AneuFiler.exe
â”‚       â”œâ”€â”€ Aneu23.exe
â”‚       â”œâ”€â”€ SMNFiler_v1.exe
â”‚       â”œâ”€â”€ SMNFiler_v2.exe
â”‚       â”œâ”€â”€ SHCarrier.exe
â”‚       â”œâ”€â”€ UPDFiler_v1.exe
â”‚       â””â”€â”€ UPDFiler_v2.exe
â”œâ”€â”€ src-tauri/               # Tauri åç«¯æºç  (Rust)
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ main.rs          # Rust åº”ç”¨ä¸»å…¥å£
â”‚   â”‚   â””â”€â”€ lib.rs           # æ ¸å¿ƒä¸šåŠ¡é€»è¾‘
â”‚   â”œâ”€â”€ Cargo.toml           # Rust ä¾èµ–é…ç½®
â”‚   â””â”€â”€ tauri.conf.json      # Tauri åº”ç”¨é…ç½®
â”œâ”€â”€ scripts/                 # æ„å»ºè„šæœ¬
â”‚   â”œâ”€â”€ build-current-system.cjs
â”‚   â”œâ”€â”€ build-windows-all.cjs
â”‚   â””â”€â”€ build-all-platforms.cjs
â”œâ”€â”€ user_manual.md           # ç”¨æˆ·æ‰‹å†Œ
â””â”€â”€ package.json             # Node.js é…ç½®
```

## ğŸš€ å¼€å‘ç¯å¢ƒæ­å»º

### å‰ç½®è¦æ±‚

- **Node.js**: ^18.0.0
- **Rust**: ^1.70.0 (é€šè¿‡ [rustup](https://rustup.rs/) å®‰è£…)
- **æ“ä½œç³»ç»Ÿ**: Windows 10 1809+ / macOS 10.15+ / Linux
- **Windows é¢å¤–è¦æ±‚**: Microsoft Edge WebView2 è¿è¡Œæ—¶

### å¿«é€Ÿå¼€å§‹

```bash
# å…‹éš†é¡¹ç›®
git clone https://github.com/Cubicise/CMTools.git
cd CMTools

# å®‰è£…ä¾èµ–
npm install

# å¯åŠ¨å¼€å‘æœåŠ¡å™¨ï¼ˆå¸¦çƒ­é‡è½½ï¼‰
npm run tauri dev
```

**é¦–æ¬¡æ„å»ºå‰**: å¦‚éœ€æ„å»º32ä½ç‰ˆæœ¬ï¼Œéœ€å®‰è£…Rustç›®æ ‡ï¼š`rustup target add i686-pc-windows-msvc`

## ğŸ”¨ æ„å»ºå‘½ä»¤

| å‘½ä»¤ | è¾“å‡º | è¯´æ˜ |
|------|------|------|
| `npm run tauri:build` | `CMTools.x64.exe` æˆ– `CMTools.x86.exe` | æ„å»ºå½“å‰ç³»ç»ŸåŒ¹é…çš„ç‰ˆæœ¬ |
| `npm run tauri:build:win` | æ‰€æœ‰Windowsç‰ˆæœ¬ï¼ˆå«Win7å…¼å®¹ç‰ˆï¼‰ | Windowså¹³å°å‘å¸ƒ |
| `npm run tauri:build:all` | æ‰€æœ‰æ”¯æŒçš„å¹³å° | å¤šå¹³å°å‘å¸ƒ |

**æ„å»ºäº§ç‰©**ï¼š
- 64ä½: `CMTools.x64.exe`
- 32ä½: `CMTools.x86.exe`
- Win7å…¼å®¹: `CMTools.Win7.x86.exe`

æ„å»ºè„šæœ¬ä¼šè‡ªåŠ¨å¤„ç†æ–‡ä»¶é‡å‘½åå’Œå¤åˆ¶åˆ°é¡¹ç›®æ ¹ç›®å½•ã€‚

### Windowsç‰ˆæœ¬é€‰æ‹©æŒ‡å—

æˆ‘ä»¬ä¸ºä¸åŒçš„Windowsç³»ç»Ÿæä¾›äº†3ä¸ªä¸“é—¨ä¼˜åŒ–çš„ç‰ˆæœ¬ï¼š

| ç‰ˆæœ¬æ–‡ä»¶å | ç›®æ ‡ç³»ç»Ÿ | æ¶æ„ | æ¨èç”¨æˆ· |
|----------|----------|------|----------|
| **CMTools.x64.exe** | Windows 10+ (64ä½) | x86_64 | ç°ä»£ç³»ç»Ÿç”¨æˆ·(æ¨è) |
| **CMTools.x86.exe** | Windows 10+ (32ä½) | x86 | ä½é…ç½®ç°ä»£ç³»ç»Ÿ |
| **CMTools.Win7.x86.exe** | Windows 7 SP1+ (32ä½) | x86 | è€æ—§ç³»ç»Ÿç”¨æˆ· |

#### å¦‚ä½•é€‰æ‹©ç‰ˆæœ¬

**1. é¦–é€‰æ¨èï¼šCMTools.x64.exe**
- é€‚ç”¨äºï¼šWindows 10ã€Windows 11 (64ä½)
- æœ€ä½³æ€§èƒ½å’Œå…¼å®¹æ€§
- æ”¯æŒå¤§å†…å­˜å¤„ç†
- æœªæ¥æ›´æ–°ä¼˜å…ˆæ”¯æŒ

**2. 32ä½ç³»ç»Ÿï¼šCMTools.x86.exe**
- é€‚ç”¨äºï¼šWindows 10ã€Windows 11 (32ä½)
- åŠŸèƒ½ä¸64ä½ç‰ˆæœ¬å®Œå…¨ç›¸åŒ
- é€‚åˆä½é…ç½®ç³»ç»Ÿ

**3. è€æ—§ç³»ç»Ÿï¼šCMTools.Win7.x86.exe**
- é€‚ç”¨äºï¼šWindows 7 SP1åŠä»¥ä¸Šç‰ˆæœ¬
- è§£å†³äº†APIå…¼å®¹æ€§é—®é¢˜
- ä¸“é—¨ä¼˜åŒ–çš„å…¼å®¹ç‰ˆæœ¬
- éœ€è¦é¢å¤–å®‰è£…Visual C++è¿è¡Œåº“

#### ç³»ç»Ÿè¦æ±‚

**Windows 10/11ç”¨æˆ·**
- **æ¨èç‰ˆæœ¬ï¼š** CMTools.x64.exe æˆ– CMTools.x86.exe
- **æ“ä½œç³»ç»Ÿï¼š** Windows 10 ç‰ˆæœ¬1809 (17763) æˆ–æ›´é«˜
- **å†…å­˜ï¼š** è‡³å°‘4GB (æ¨è8GB+)
- **å­˜å‚¨ï¼š** 200MBå¯ç”¨ç©ºé—´
- **ä¾èµ–ï¼š** Microsoft Edge WebView2 (é€šå¸¸å·²é¢„è£…)

**Windows 7ç”¨æˆ·**
- **å¿…é¡»ä½¿ç”¨ï¼š** CMTools.Win7.x86.exe
- **æ“ä½œç³»ç»Ÿï¼š** Windows 7 SP1 (32ä½)
- **å†…å­˜ï¼š** è‡³å°‘2GB
- **å­˜å‚¨ï¼š** 200MBå¯ç”¨ç©ºé—´
- **å¿…éœ€ä¾èµ–ï¼š**
  - Visual C++ 2015-2022 Redistributable (x86)
  - æ‰€æœ‰é‡è¦çš„Windowsæ›´æ–°

#### å¸¸è§é—®é¢˜ä¸è§£å†³æ–¹æ¡ˆ

**Windows 7é”™è¯¯ï¼šProcessPrng could not be located**
- **åŸå› ï¼š** ä½¿ç”¨äº†æ ‡å‡†ç‰ˆæœ¬è€ŒéWindows 7å…¼å®¹ç‰ˆæœ¬
- **è§£å†³æ–¹æ¡ˆï¼š** ä¸‹è½½å¹¶ä½¿ç”¨ `CMTools.Win7.x86.exe`

**Windows 10+ç³»ç»Ÿæç¤ºç¼ºå°‘WebView2**
- **åŸå› ï¼š** ç³»ç»Ÿç¼ºå°‘Microsoft Edge WebView2è¿è¡Œæ—¶
- **è§£å†³æ–¹æ¡ˆï¼š** ä»[å¾®è½¯å®˜ç½‘](https://developer.microsoft.com/zh-cn/microsoft-edge/webview2/)ä¸‹è½½å®‰è£…

**é˜²ç—…æ¯’è½¯ä»¶æ‹¦æˆª**
- **åŸå› ï¼š** è½¯ä»¶æœªè¿›è¡Œæ•°å­—ç­¾å
- **è§£å†³æ–¹æ¡ˆï¼š** æ·»åŠ åˆ°é˜²ç—…æ¯’è½¯ä»¶ç™½åå•ï¼Œæˆ–ä¸´æ—¶å…³é—­å®æ—¶é˜²æŠ¤

**Visual C++è¿è¡Œåº“ç¼ºå¤±**
- **é€‚ç”¨äºï¼š** Windows 7ç”¨æˆ·
- **è§£å†³æ–¹æ¡ˆï¼š** å®‰è£…[Microsoft Visual C++ Redistributable](https://docs.microsoft.com/zh-cn/cpp/windows/latest-supported-vc-redist)

## ğŸ› ï¸ å¼€å‘æŒ‡å—

### ä»£ç è§„èŒƒ

- **å‰ç«¯**: Vue 3 Composition API + TypeScript
- **åç«¯**: Rust (cargo fmt + clippy)
- **æäº¤ä¿¡æ¯**: Conventional Commits

### æ ¸å¿ƒæ¶æ„

**å¤–éƒ¨å·¥å…·é©±åŠ¨è®¾è®¡**ï¼š
- å·¥å…·æ–‡ä»¶ï¼ˆ.exeï¼‰åµŒå…¥åœ¨ `src/assets/`
- è¿è¡Œæ—¶é€šè¿‡ `include_bytes!` åŠ è½½åˆ°å†…å­˜
- ä¸´æ—¶é‡Šæ”¾åˆ°ç³»ç»Ÿä¸´æ—¶ç›®å½•å¹¶æ‰§è¡Œ
- å‰åç«¯é€šè¿‡ Tauri `invoke` æœºåˆ¶é€šä¿¡

**å…³é”®æ–‡ä»¶**ï¼š
- `src-tauri/src/lib.rs` - åç«¯å‘½ä»¤å¤„ç†
- `src/App.vue` - å‰ç«¯ç•Œé¢å’Œäº¤äº’é€»è¾‘

### æ„å»ºé…ç½®é€‰é¡¹

#### å½“å‰é…ç½®

é¡¹ç›®å·²é…ç½®ä¸ºåªæ„å»ºå•ä¸ªå¯æ‰§è¡Œæ–‡ä»¶ï¼ˆç»¿è‰²è½¯ä»¶ï¼‰ï¼Œä¸ç”Ÿæˆå®‰è£…åŒ…ã€‚

**å¤šæ¶æ„æ„å»ºæ”¯æŒ**

é¡¹ç›®æ”¯æŒWindowså¹³å°32ä½å’Œ64ä½æ¶æ„çš„è‡ªåŠ¨æ„å»ºï¼Œé€šè¿‡ä¸“é—¨çš„æ„å»ºè„šæœ¬ `scripts/build-current-system.cjs` å®ç°ã€‚

**æ”¯æŒçš„æ¶æ„ï¼š**
- **x64** (x86_64-pc-windows-msvc): 64ä½Windowsç‰ˆæœ¬
- **x86** (i686-pc-windows-msvc): 32ä½Windowsç‰ˆæœ¬

**è½¯ä»¶å‘½åè§„èŒƒï¼š**
- 64ä½ç‰ˆæœ¬ï¼š`CMTools.x64.exe`
- 32ä½ç‰ˆæœ¬ï¼š`CMTools.x86.exe`

#### é…ç½®è¯¦æƒ…

- `bundle.active`: `false` - ç¦ç”¨æ‰“åŒ…åŠŸèƒ½
- `bundle.targets`: `[]` - ä¸æ„å»ºä»»ä½•å®‰è£…åŒ…æ ¼å¼
- è¾“å‡ºæ–‡ä»¶ï¼š`src-tauri/target/release/cmtools.exe`

#### æ„å»ºæ¨¡å¼å¯¹æ¯”

**1. å½“å‰æ¨¡å¼ï¼šä»…å¯æ‰§è¡Œæ–‡ä»¶**
```json
{
  "bundle": {
    "active": false,
    "targets": []
  }
}
```

**ä¼˜ç‚¹ï¼š**
- æ„å»ºé€Ÿåº¦å¿«
- æ–‡ä»¶ä½“ç§¯å°
- æ— éœ€ä¸‹è½½é¢å¤–å·¥å…·
- çœŸæ­£çš„ç»¿è‰²è½¯ä»¶ï¼Œæ— å®‰è£…è¿‡ç¨‹

**è¾“å‡ºï¼š** `cmtools.exe` å•æ–‡ä»¶

**2. NSIS ä¾¿æºç‰ˆæ¨¡å¼ï¼ˆå¯é€‰ï¼‰**
```json
{
  "bundle": {
    "active": true,
    "targets": ["nsis"],
    "windows": {
      "nsis": {
        "installMode": "currentUser"
      }
    }
  }
}
```

**ç‰¹ç‚¹ï¼š**
- ç”Ÿæˆ `.exe` å®‰è£…åŒ…
- æ”¯æŒä¾¿æºæ¨¡å¼
- éœ€è¦ä¸‹è½½ NSIS å·¥å…·

**3. å¤šæ ¼å¼æ‰“åŒ…æ¨¡å¼ï¼ˆå¯é€‰ï¼‰**
```json
{
  "bundle": {
    "active": true,
    "targets": ["nsis", "msi", "zip"]
  }
}
```

**ç‰¹ç‚¹ï¼š**
- åŒæ—¶ç”Ÿæˆå¤šç§æ ¼å¼
- æ„å»ºæ—¶é—´è¾ƒé•¿
- é€‚åˆå‘å¸ƒåˆ†å‘

#### å¤šæ¶æ„æ„å»ºè„šæœ¬è¯´æ˜

`npm run tauri:build` å‘½ä»¤ä½¿ç”¨ `scripts/build-current-system.cjs` è„šæœ¬ï¼Œè‡ªåŠ¨æ‰§è¡Œä»¥ä¸‹æ“ä½œï¼š

1. **ç¯å¢ƒæ£€æŸ¥**ï¼šè‡ªåŠ¨æ£€æŸ¥å¹¶å®‰è£…æ‰€éœ€çš„Rustæ„å»ºç›®æ ‡
2. **æ¸…ç†æ—§æ–‡ä»¶**ï¼šåˆ é™¤ä¹‹å‰çš„æ„å»ºäº§ç‰©
3. **å‰ç«¯æ„å»º**ï¼šæ‰§è¡Œ `npm run build`
4. **å¤šæ¶æ„æ„å»º**ï¼šå¹¶è¡Œæ„å»º32ä½å’Œ64ä½ç‰ˆæœ¬
5. **æ–‡ä»¶é‡å‘½å**ï¼šæŒ‰è§„èŒƒé‡å‘½åä¸º `CMTools.x64.exe` å’Œ `CMTools.x86.exe`
6. **æ–‡ä»¶å¤åˆ¶**ï¼šå°†é‡å‘½åæ–‡ä»¶å¤åˆ¶åˆ°é¡¹ç›®æ ¹ç›®å½•
7. **ç»“æœæ˜¾ç¤º**ï¼šæ˜¾ç¤ºæ„å»ºç»“æœå’Œæ–‡ä»¶ä¿¡æ¯

#### è¾“å‡ºæ–‡ä»¶ä½ç½®

**å¤šæ¶æ„æ„å»ºè¾“å‡ºï¼ˆæ¨èï¼‰**

**ä¾¿äºä½¿ç”¨çš„æ–‡ä»¶ï¼š**
- `CMTools.x64.exe` - ä½äºé¡¹ç›®æ ¹ç›®å½•
- `CMTools.x86.exe` - ä½äºé¡¹ç›®æ ¹ç›®å½•

**åŸå§‹æ„å»ºæ–‡ä»¶ï¼š**
- **64ä½ç‰ˆæœ¬ï¼š** `src-tauri/target/x86_64-pc-windows-msvc/release/cmtools.exe`
- **32ä½ç‰ˆæœ¬ï¼š** `src-tauri/target/i686-pc-windows-msvc/release/cmtools.exe`

**å•æ¶æ„æ„å»ºè¾“å‡º**
- **ä¸»è¦æ–‡ä»¶ï¼š** `src-tauri/target/release/cmtools.exe`
- **è°ƒè¯•ä¿¡æ¯ï¼š** `src-tauri/target/release/` ç›®å½•ä¸‹çš„å…¶ä»–æ–‡ä»¶

**å¦‚æœå¯ç”¨æ‰“åŒ…åŠŸèƒ½**
- **NSIS å®‰è£…åŒ…ï¼š** `src-tauri/target/release/bundle/nsis/`
- **MSI å®‰è£…åŒ…ï¼š** `src-tauri/target/release/bundle/msi/`
- **ZIP å‹ç¼©åŒ…ï¼š** `src-tauri/target/release/bundle/zip/`

#### é…ç½®åˆ‡æ¢æŒ‡å—

**åˆ‡æ¢åˆ° NSIS ä¾¿æºç‰ˆ**

1. ä¿®æ”¹ `tauri.conf.json`ï¼š
   ```json
   "bundle": {
     "active": true,
     "targets": ["nsis"]
   }
   ```
2. è¿è¡Œæ„å»ºå‘½ä»¤

**åˆ‡æ¢å›çº¯å¯æ‰§è¡Œæ–‡ä»¶**

1. ä¿®æ”¹ `tauri.conf.json`ï¼š
   ```json
   "bundle": {
     "active": false,
     "targets": []
   }
   ```
2. è¿è¡Œæ„å»ºå‘½ä»¤

#### æ€§èƒ½å¯¹æ¯”

| é…ç½®æ¨¡å¼ | æ„å»ºæ—¶é—´ | æ–‡ä»¶å¤§å° | ä¸‹è½½éœ€æ±‚ | é€‚ç”¨åœºæ™¯ |
|---------|---------|---------|---------|----------|
| å¤šæ¶æ„è‡ªåŠ¨æ„å»º | ä¸­ç­‰ | ä¸­ç­‰ | Rustç›®æ ‡ | **æ¨è** - å‘å¸ƒåˆ†å‘ |
| å•æ¶æ„(64ä½) | å¿« | å° | æ—  | å¼€å‘æµ‹è¯• |
| å•æ¶æ„(32ä½) | å¿« | å° | Rustç›®æ ‡ | ç‰¹å®šéœ€æ±‚ |
| NSIS ä¾¿æºç‰ˆ | ä¸­ç­‰ | ä¸­ç­‰ | éœ€è¦ NSIS | è½¯ä»¶åˆ†å‘ |
| å¤šæ ¼å¼æ‰“åŒ… | æ…¢ | å¤§ | éœ€è¦å¤šä¸ªå·¥å…· | æ­£å¼å‘å¸ƒ |

#### æ³¨æ„äº‹é¡¹

1. **å¤šæ¶æ„æ„å»ºä¼˜åŠ¿ï¼š**
   - ä¸€æ¬¡æ€§ç”Ÿæˆ32ä½å’Œ64ä½ç‰ˆæœ¬
   - è‡ªåŠ¨æŒ‰è§„èŒƒé‡å‘½åæ–‡ä»¶
   - æ”¯æŒå¹¿æ³›çš„ç³»ç»Ÿå…¼å®¹æ€§
   - ä¾¿äºè½¯ä»¶åˆ†å‘å’Œéƒ¨ç½²

2. **ä½¿ç”¨å»ºè®®ï¼š**
   - **å¼€å‘é˜¶æ®µï¼š** ä½¿ç”¨å½“å‰ç³»ç»Ÿç¯å¢ƒæ„å»º (`npm run tauri:build`)
   - **Windowså‘å¸ƒé˜¶æ®µï¼š** ä½¿ç”¨Windowså…¨ç‰ˆæœ¬æ„å»º (`npm run tauri:build:win`)
   - **å¤šå¹³å°å‘å¸ƒé˜¶æ®µï¼š** ä½¿ç”¨å…¨å¹³å°æ„å»º (`npm run tauri:build:all`)
   - **ç‰¹æ®Šéœ€æ±‚ï¼š** æ ¹æ®ç›®æ ‡ç”¨æˆ·ç¾¤ä½“é€‰æ‹©å¯¹åº”æ¶æ„

3. **æ–‡ä»¶ç®¡ç†ï¼š**
   - **ä¼˜å…ˆä½¿ç”¨ï¼š** é¡¹ç›®æ ¹ç›®å½•çš„ `CMTools.x64.exe` å’Œ `CMTools.x86.exe`
   - **åŸå§‹æ–‡ä»¶ï¼š** `src-tauri/target/[æ¶æ„]/release/cmtools.exe`
   - **æ¸…ç†æ„å»ºï¼š** å¯ä»¥å®‰å…¨åˆ é™¤ `target` ç›®å½•é‡æ–°æ„å»º

4. **æ„å»ºè„šæœ¬ç‰¹æ€§ï¼š**
   - è‡ªåŠ¨æ£€æŸ¥å¹¶å®‰è£…ç¼ºå¤±çš„Rustæ„å»ºç›®æ ‡
   - æ¸…ç†ä¹‹å‰çš„æ„å»ºäº§ç‰©é¿å…å†²çª
   - æä¾›è¯¦ç»†çš„æ„å»ºè¿›åº¦å’Œç»“æœä¿¡æ¯
   - æ”¯æŒæ„å»ºå¤±è´¥æ—¶çš„é”™è¯¯è¯Šæ–­

### ä»£ç è§„èŒƒ

- **é€šç”¨**ï¼šéµå¾ªé¡¹ç›® `.editorconfig` å’Œ `.prettierrc` é…ç½®ã€‚
- **TypeScript/Vue**ï¼šä½¿ç”¨ ESLint ä¿è¯ä»£ç è´¨é‡ï¼Œéµå¾ª `Composition API` å’Œ `<script setup>` è¯­æ³•ã€‚
- **Rust**ï¼šä½¿ç”¨ `cargo fmt` æ ¼å¼åŒ–ä»£ç ï¼Œéµå¾ªå®˜æ–¹ç¼–ç é£æ ¼å’Œ `clippy` å»ºè®®ã€‚
- **æäº¤ä¿¡æ¯**ï¼šéµå¾ª [Conventional Commits](https://www.conventionalcommits.org/) è§„èŒƒï¼Œä¾¿äºç”Ÿæˆæ¸…æ™°çš„å˜æ›´æ—¥å¿—ã€‚

### æ ¸å¿ƒæ¶æ„ï¼šå¤–éƒ¨å·¥å…·é©±åŠ¨

CMTools çš„æ ¸å¿ƒè®¾è®¡æ€æƒ³æ˜¯é€šè¿‡ Rust åç«¯è°ƒç”¨å¤–éƒ¨çš„å‘½ä»¤è¡Œå¯æ‰§è¡Œæ–‡ä»¶ï¼ˆ`.exe`ï¼‰æ¥å®Œæˆæ ¸å¿ƒæ•°æ®å¤„ç†ä»»åŠ¡ã€‚è¿™ç§æ¶æ„å¸¦æ¥äº†æé«˜çš„çµæ´»æ€§å’Œå¯æ‰©å±•æ€§ã€‚

- **å·¥å…·åµŒå…¥**ï¼šå¤–éƒ¨å·¥å…·ï¼ˆå¦‚ `AneuFiler.exe`ï¼‰è¢«æ”¾ç½®åœ¨ `src-tauri` ç›®å½•ä¸‹ã€‚åœ¨æ„å»ºæ—¶ï¼ŒRust çš„ `include_bytes!` å®ä¼šå°†è¿™äº›æ–‡ä»¶çš„äºŒè¿›åˆ¶å†…å®¹ç›´æ¥åµŒå…¥åˆ°æœ€ç»ˆç”Ÿæˆçš„å¯æ‰§è¡Œæ–‡ä»¶ä¸­ã€‚
- **è¿è¡Œæ—¶é‡Šæ”¾**ï¼šå½“ç”¨æˆ·è°ƒç”¨ä¸€ä¸ªåŠŸèƒ½æ—¶ï¼Œåç«¯é€»è¾‘ä¼šä»å†…å­˜ä¸­è¯»å–ç›¸åº”å·¥å…·çš„äºŒè¿›åˆ¶æ•°æ®ï¼Œå¹¶å°†å…¶å†™å…¥æ“ä½œç³»ç»Ÿçš„ä¸´æ—¶ç›®å½•ä¸­ï¼Œä½¿å…¶æˆä¸ºä¸€ä¸ªä¸´æ—¶çš„å¯æ‰§è¡Œæ–‡ä»¶ã€‚
- **å‘½ä»¤è°ƒç”¨**ï¼šåç«¯éšåä½¿ç”¨ Rust çš„ `std::process::Command` æ¨¡å—ï¼Œåƒè°ƒç”¨æ™®é€šå‘½ä»¤è¡Œç¨‹åºä¸€æ ·æ‰§è¡Œè¿™ä¸ªä¸´æ—¶æ–‡ä»¶ï¼Œå¹¶é€šè¿‡å‚æ•°ä¼ é€’è¾“å…¥æ–‡ä»¶è·¯å¾„å’Œå¤„ç†é€‰é¡¹ã€‚
- **ç»“æœè¿”å›**ï¼šå¤–éƒ¨å·¥å…·æ‰§è¡Œå®Œæ¯•åï¼Œåç«¯æ•è·å…¶è¾“å‡ºï¼Œå¹¶å°†å¤„ç†ç»“æœï¼ˆæˆåŠŸæˆ–å¤±è´¥ä¿¡æ¯ï¼‰è¿”å›ç»™å‰ç«¯ç•Œé¢ã€‚

è¿™ç§è®¾è®¡å°†æ ¸å¿ƒç®—æ³•ä¸UIæ¡†æ¶è§£è€¦ï¼Œä½¿å¾—æ›¿æ¢æˆ–æ–°å¢æ•°æ®å¤„ç†å·¥å…·å˜å¾—éå¸¸ç®€å•ï¼Œæ— éœ€é‡æ–°ç¼–è¯‘æ•´ä¸ªå‰ç«¯åº”ç”¨ã€‚

### å‰åç«¯äº¤äº’

å‰åç«¯é€šä¿¡ä¾èµ– Tauri çš„ `invoke` æœºåˆ¶ã€‚æ ¸å¿ƒçš„äº¤äº’ç‚¹æ˜¯ `lib.rs` ä¸­å®šä¹‰çš„ `process_files` å’Œ `open_file_directory` å‘½ä»¤ã€‚

**åç«¯å‘½ä»¤ç¤ºä¾‹ (`src-tauri/src/lib.rs`)**
```rust
#[tauri::command]
#[tauri::command]
async fn open_file_directory(file_path: String) -> Result<(), String> {
    // ... ä¸šåŠ¡é€»è¾‘
}

#[tauri::command]
async fn process_files(
    language: String, // æ–°å¢è¯­è¨€å‚æ•°
    tool_name: String,
    // ... å…¶ä»–å‚æ•°
) -> Result<Vec<ProcessResult>, String> {
    // ... ä¸šåŠ¡é€»è¾‘
}
```

**å‰ç«¯è°ƒç”¨ç¤ºä¾‹ (`src/App.vue`)**
```typescript
import { invoke } from '@tauri-apps/api/core';

async function handleFileProcessing() {
  try {
    await invoke('open_file_directory', { filePath: path });

// ...

const results = await invoke('process_files', {
      language: currentLanguage.value,
      toolName: selectedTool.value,
      // ... å…¶ä»–å‚æ•°
    });
    // ... å¤„ç†ç»“æœ
  } catch (error) {
    // ... é”™è¯¯å¤„ç†
  }
}
```

### å›½é™…åŒ– (i18n)

å›½é™…åŒ–æ–‡æœ¬å­˜å‚¨åœ¨ `App.vue` çš„ `translations` å¯¹è±¡ä¸­ã€‚åç«¯æ¶ˆæ¯é€šè¿‡ `get_message` å‡½æ•°æ ¹æ®å‰ç«¯ä¼ é€’çš„ `language` å‚æ•°åŠ¨æ€è·å–ã€‚

- **å‰ç«¯**ï¼š`t('key')` å‡½æ•°ç”¨äºç¿»è¯‘ç•Œé¢æ–‡æœ¬ã€‚
- **åç«¯**ï¼š`get_message(&language, "message_key")` ç”¨äºè·å–æœ¬åœ°åŒ–æ¶ˆæ¯ã€‚

### å¦‚ä½•æ·»åŠ æ–°å·¥å…·

ä»¥æ·»åŠ  `NewTool.exe` ä¸ºä¾‹ï¼š

**1. æ”¾ç½®å·¥å…·æ–‡ä»¶**
```bash
# å°†å·¥å…·å¤åˆ¶åˆ°èµ„æºç›®å½•
cp NewTool.exe src/assets/
```

**2. åç«¯æ³¨å†Œï¼ˆsrc-tauri/src/lib.rsï¼‰**
```rust
// åœ¨ Tool æšä¸¾ä¸­æ·»åŠ æ–°å·¥å…·
"NewTool" => ("NewTool.exe", include_bytes!("../../src/assets/NewTool.exe")),

// åœ¨å‚æ•°å¤„ç† match ä¸­æ·»åŠ 
"NewTool" => {
    cmd.arg("-i").arg(&file_path);
    // æ·»åŠ å·¥å…·ç‰¹å®šå‚æ•°
}
```

**3. å‰ç«¯æ³¨å†Œï¼ˆsrc/App.vueï¼‰**
```typescript
// åœ¨ tools æ•°ç»„ä¸­æ·»åŠ 
{ 
  name: ToolType.NewTool, 
  label: "NewTool", 
  supportsStdSample: false, 
  supportsWindowsOptimization: true, 
  supportsAreaData: true 
}
```

**4. æ·»åŠ  UI é€‰é¡¹ï¼ˆå¦‚éœ€ï¼‰**ï¼šåœ¨ App.vue ä¸­æ·»åŠ æ–°çš„ ref å’Œ HTML å…ƒç´ 

### è°ƒè¯•æŠ€å·§

- **æŸ¥çœ‹åç«¯æ—¥å¿—**ï¼šåœ¨å¼€å‘æ¨¡å¼ä¸‹ (`npm run tauri dev`)ï¼Œåç«¯ Rust ä»£ç ä¸­çš„ `println!` å®è¾“å‡ºä¼šç›´æ¥æ˜¾ç¤ºåœ¨å¯åŠ¨åº”ç”¨çš„æ§åˆ¶å°ä¸­ã€‚`lib.rs` ä¸­å·²åŒ…å«ç”¨äºæ‰“å°æ‰§è¡Œå‘½ä»¤ã€å·¥ä½œç›®å½•å’Œå‚æ•°çš„è°ƒè¯•ä»£ç  (`#[cfg(debug_assertions)]`)ï¼Œè¿™å¯¹äºè°ƒè¯•å‚æ•°æ˜¯å¦æ­£ç¡®ä¼ é€’éå¸¸æœ‰ç”¨ã€‚
- **æ£€æŸ¥ä¸´æ—¶æ–‡ä»¶**ï¼šæ‚¨å¯ä»¥å‰å¾€ç³»ç»Ÿçš„ä¸´æ—¶ç›®å½•ï¼ˆWindows ä¸Šé€šå¸¸æ˜¯ `%TEMP%`ï¼‰æŸ¥æ‰¾åä¸º `cmtools_*.exe` çš„æ–‡ä»¶ï¼Œä»¥ç¡®è®¤å¯æ‰§è¡Œæ–‡ä»¶æ˜¯å¦è¢«æ­£ç¡®é‡Šæ”¾ã€‚
- **å¤šæ¶æ„æ„å»ºè°ƒè¯•**ï¼šä½¿ç”¨ `scripts/build-all-platforms.cjs` è„šæœ¬æ—¶ï¼Œå¯ä»¥æŸ¥çœ‹æ§åˆ¶å°è¾“å‡ºäº†è§£æ„å»ºè¿›åº¦å’Œå¯èƒ½çš„é”™è¯¯ä¿¡æ¯ã€‚è„šæœ¬ä¼šè‡ªåŠ¨æ£€æŸ¥Rustç›®æ ‡å®‰è£…æƒ…å†µå¹¶æ˜¾ç¤ºæ„å»ºç»“æœã€‚

## ğŸ§ª æµ‹è¯•

é«˜è´¨é‡çš„æµ‹è¯•æ˜¯é¡¹ç›®ç»´æŠ¤çš„å…³é”®ã€‚æˆ‘ä»¬é¼“åŠ±ä¸ºæ–°åŠŸèƒ½å’Œé”™è¯¯ä¿®å¤ç¼–å†™æµ‹è¯•ã€‚

- **Rust å•å…ƒæµ‹è¯•**ï¼šé’ˆå¯¹ `lib.rs` ä¸­çš„è¾…åŠ©å‡½æ•°å’Œé€»è¾‘ã€‚
  ```bash
  cd src-tauri
  cargo test
  ```
- **å‰ç«¯å•å…ƒæµ‹è¯•**ï¼šä½¿ç”¨ Vitest æµ‹è¯• Vue ç»„ä»¶å’Œå·¥å…·å‡½æ•°ã€‚
  ```bash
  npm run test
  ```
- **ç«¯åˆ°ç«¯ (E2E) æµ‹è¯•**ï¼šä½¿ç”¨ Tauri çš„ WebDriver æ”¯æŒè¿›è¡Œè‡ªåŠ¨åŒ–UIæµ‹è¯• (å¾…å®Œå–„)ã€‚

## ğŸ“¦ éƒ¨ç½²

### è‡ªåŠ¨åŒ–æ„å»º

é¡¹ç›®å·²é…ç½® GitHub Actions (`.github/workflows/build.yml`)ï¼Œå¯åœ¨æ¨é€ `v*` æ ‡ç­¾æ—¶è‡ªåŠ¨ä¸º Windows, macOS, å’Œ Linux æ„å»ºã€æ‰“åŒ…å’Œåˆ›å»º Releaseã€‚

### å¤šæ¶æ„æ„å»ºéƒ¨ç½²

å¯¹äºWindowså¹³å°ï¼Œæ¨èä½¿ç”¨å¤šæ¶æ„æ„å»ºè„šæœ¬è¿›è¡Œéƒ¨ç½²ï¼š

```bash
# ä¸€é”®æ„å»º32ä½å’Œ64ä½ç‰ˆæœ¬
npm run tauri:build
```

æ„å»ºå®Œæˆåï¼Œæ‚¨å°†è·å¾—ï¼š
- `CMTools.x64.exe` - 64ä½Windowsç‰ˆæœ¬
- `CMTools.x86.exe` - 32ä½Windowsç‰ˆæœ¬

**åˆ†å‘å»ºè®®ï¼š**
- 64ä½ç‰ˆæœ¬é€‚ç”¨äºå¤§å¤šæ•°ç°ä»£Windowsç³»ç»Ÿ
- 32ä½ç‰ˆæœ¬é€‚ç”¨äºè€æ—§ç³»ç»Ÿæˆ–ç‰¹æ®Šç¯å¢ƒéœ€æ±‚
- ä¸¤ä¸ªç‰ˆæœ¬åŠŸèƒ½å®Œå…¨ä¸€è‡´ï¼Œç”¨æˆ·å¯æ ¹æ®ç³»ç»Ÿæ¶æ„é€‰æ‹©

## ğŸ¤ è´¡çŒ®æŒ‡å—

æˆ‘ä»¬çƒ­çƒˆæ¬¢è¿å„ç§å½¢å¼çš„è´¡çŒ®ï¼Œæ— è®ºæ˜¯ä»£ç ã€æ–‡æ¡£è¿˜æ˜¯é—®é¢˜åé¦ˆï¼

### è¡Œä¸ºå‡†åˆ™

è¯·åœ¨è´¡çŒ®å‰é˜…è¯»æˆ‘ä»¬çš„ [è¡Œä¸ºå‡†åˆ™](CODE_OF_CONDUCT.md) (å¾…åˆ›å»º)ï¼Œæˆ‘ä»¬è‡´åŠ›äºè¥é€ ä¸€ä¸ªå‹å¥½ã€äº’ç›¸å°Šé‡çš„ç¤¾åŒºç¯å¢ƒã€‚

### è´¡çŒ®æµç¨‹

1.  **Fork** æœ¬é¡¹ç›®ã€‚
2.  **åˆ›å»ºæ–°åˆ†æ”¯**ï¼š`git checkout -b feature/your-amazing-feature`
3.  **æäº¤æ‚¨çš„æ›´æ”¹**ï¼š`git commit -m 'feat: Add some amazing feature'`
4.  **æ¨é€åˆ°æ‚¨çš„åˆ†æ”¯**ï¼š`git push origin feature/your-amazing-feature`
5.  **åˆ›å»º Pull Request**ï¼Œå¹¶è¯¦ç»†æè¿°æ‚¨çš„æ›´æ”¹ã€‚

æˆ‘ä»¬å°¤å…¶æ¬¢è¿ä»¥ä¸‹ç±»å‹çš„è´¡çŒ®ï¼š
- **æ·»åŠ æ–°çš„æ•°æ®å¤„ç†å·¥å…·** (è¯·éµå¾ªä¸Šæ–‡çš„å¼€å‘æŒ‡å—)ã€‚
- æ”¹è¿›ç°æœ‰å·¥å…·çš„å‚æ•°å’Œé€»è¾‘ã€‚
- å®Œå–„å›½é™…åŒ–ç¿»è¯‘ã€‚
- ä¿®å¤ Bug æˆ–ä¼˜åŒ–æ€§èƒ½ã€‚

> åœ¨æäº¤ PR å‰ï¼Œè¯·ç¡®ä¿æ‚¨çš„ä»£ç é€šè¿‡äº† `cargo test` å’Œ `npm run test`ã€‚

## ğŸ› é—®é¢˜æŠ¥å‘Š

å¦‚æœæ‚¨å‘ç°äº† Bug æˆ–æœ‰åŠŸèƒ½å»ºè®®ï¼Œè¯·å‰å¾€ [Issues](https://github.com/Cubicise/CMTools/issues) é¡µé¢ï¼š

1.  æœç´¢ç°æœ‰ Issueï¼Œé¿å…é‡å¤æäº¤ã€‚
2.  è‹¥æ— ç›¸å…³é—®é¢˜ï¼Œè¯·åˆ›å»ºä¸€ä¸ªæ–°çš„ Issueã€‚
3.  è¯·æä¾›è¯¦ç»†çš„é—®é¢˜æè¿°ã€å¤ç°æ­¥éª¤ã€æˆªå›¾æˆ–æ—¥å¿—ï¼Œä»¥åŠæ‚¨çš„æ“ä½œç³»ç»Ÿå’Œåº”ç”¨ç‰ˆæœ¬ä¿¡æ¯ã€‚

## ğŸ“š ç›¸å…³èµ„æº

- **ç”¨æˆ·æ‰‹å†Œ**ï¼š[user_manual.md](user_manual.md)
- **Tauri å®˜æ–¹æ–‡æ¡£**ï¼š[tauri.app](https://tauri.app/)
- **Vue 3 å®˜æ–¹æ–‡æ¡£**ï¼š[vuejs.org](https://vuejs.org/)
- **Rust å®˜æ–¹æ–‡æ¡£**ï¼š[doc.rust-lang.org](https://doc.rust-lang.org/)

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ MIT è®¸å¯è¯ - æŸ¥çœ‹ [LICENSE](LICENSE) æ–‡ä»¶äº†è§£è¯¦æƒ…ã€‚

## ğŸ™ è‡´è°¢

æ„Ÿè°¢æ‰€æœ‰ä¸ºè¿™ä¸ªé¡¹ç›®åšå‡ºè´¡çŒ®çš„å¼€å‘è€…å’Œæä¾›åé¦ˆçš„ç”¨æˆ·ï¼

---

<div align="center">
  <p>å¦‚æœè¿™ä¸ªé¡¹ç›®å¯¹æ‚¨æœ‰å¸®åŠ©ï¼Œè¯·ç»™æˆ‘ä»¬ä¸€ä¸ª â­ï¸</p>
  <p>Made with â¤ï¸ by the CMTools Team</p>
</div>
