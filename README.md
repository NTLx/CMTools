# CMTools

<p align="center">
  <img src="./Cubicise.Logo.png" alt="CMTools Logo" width="200">
</p>

## 项目概述

CMTools是一个基于Electron的**绿色桌面应用程序**，为用户提供了多种文件处理工具。该应用程序采用**单文件可执行程序**的形式发布，**无需安装**即可直接运行，具有良好的便携性。程序集成了三种不同的处理工具（AneuFiler、Aneu23和SHCarrier），使用统一的界面进行操作，简化了文件处理流程。

## 功能特点

- **多工具集成**：集成了AneuFiler、Aneu23和SHCarrier三种处理工具
- **批量处理**：支持批量选择和处理多个文件
- **智能主题系统**：
  - 自动适应系统深色/浅色主题
  - 支持手动切换主题模式
  - 主题偏好自动保存，重启后保持设置
  - 所有界面统一的主题体验
- **进度显示**：实时显示文件处理进度
- **错误报告**：详细的错误信息显示和处理状态反馈
- **灵活配置**：根据不同工具提供相应的配置选项

## 使用说明

### 系统要求

- Windows操作系统
- 无需额外依赖，应用程序包含所有必要组件

### 绿色软件特点

- **免安装**：单文件可执行程序，下载即可使用
- **便携性**：可放置在任意位置运行，支持U盘等移动存储设备
- **无注册表**：不写入系统注册表，不留下系统痕迹
- **即开即用**：双击即可启动，无需复杂的安装过程

### 使用方法

1. 下载CMTools.exe可执行文件
2. 将文件放置在任意目录（建议创建专用文件夹）
3. 双击CMTools.exe即可启动应用程序

### 操作步骤

1. **选择工具**：启动应用程序后，首先选择需要使用的工具（AneuFiler、Aneu23或SHCarrier）
2. **主题设置**（可选）：
   - 应用会自动适应系统主题（深色/浅色模式）
   - 可在工具选择界面点击"主题"按钮手动切换
   - 主题偏好会自动保存，下次启动时保持设置
3. **选择文件**：点击"选择文件"按钮，选择需要处理的CSV或TSV文件（可多选）
4. **配置选项**：
   - 标准品样本名称：设置标准品样本的名称（默认为"STD"）
   - 使用峰面积数据：选择是否使用峰面积数据进行计算
   - Windows系统优化：针对Windows系统的优化选项
5. **处理文件**：点击"处理文件"按钮开始处理
6. **查看结果**：处理完成后，结果文件将保存在原始文件的同一目录下
7. **错误处理**：如果处理过程中出现错误，会显示详细的错误报告界面

## 开发信息

### 技术栈

- Electron：跨平台桌面应用框架
- HTML/CSS/JavaScript：前端界面
- Node.js：后端逻辑

### 项目结构

#### 核心文件
- `main.js`：主进程文件，处理应用生命周期和IPC通信
- `preload.js`：预加载脚本，暴露安全的API给渲染进程

#### 界面文件
- `index.html`：主界面HTML
- `tool-selector.html`：工具选择界面HTML
- `error-report.html`：错误报告界面HTML
- `styles.css`：统一样式表，所有界面共享

#### 脚本文件
- `renderer.js`：主界面脚本，处理文件选择和处理逻辑
- `tool-selector.js`：工具选择界面脚本，处理工具切换和主题管理
- `error-report.js`：错误报告界面脚本，处理错误显示和主题管理

#### 工具可执行文件
- `SHCarrier.exe`：SHCarrier处理工具
- `AneuFiler.exe`：AneuFiler处理工具
- `Aneu23.exe`：Aneu23处理工具

### 开发与构建

> **注意**：以下内容仅供开发者参考。最终发布的产品是免安装的绿色软件（单文件可执行程序）。

#### 开发环境

```bash
# 安装依赖
npm install

# 启动开发环境
npm start
```

#### 构建绿色软件

```bash
# 构建单文件可执行程序
npm run dist

# 或使用npx
npx electron-builder --dir
```

构建完成后，将生成CMTools.exe单文件可执行程序，用户无需安装即可直接运行。


## 许可证

本项目采用知识共享署名-非商业性使用-相同方式共享 4.0 国际许可协议（CC BY-NC-SA 4.0）。详情请参阅LICENSE文件或访问 [CC BY-NC-SA 4.0](http://creativecommons.org/licenses/by-nc-sa/4.0/)。

该许可证允许他人复制、分发、展示和表演本作品以及基于本作品的演绎作品，但必须：
- 署名：必须提供适当的归属
- 非商业性使用：不得将本作品用于商业目的
- 相同方式共享：如果您改变、转换或以本作品为基础进行创作，您必须以相同或类似的许可条款分发您的贡献

## 作者

NTLx

---

© 2025 CMTools. 保留所有权利。